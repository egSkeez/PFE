<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-
transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:sec="http://www.springframework.org/security/tags">
<html>
<head>
<title>Liste Courrier</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="../framGraphique/#{languageManager.calendar}"
	type="text/javascript"></script>
<script type="text/javascript"
	src="../framGraphique/jquery-1.10.2.min.js" />
<script type="text/javascript">
	jQuery.noConflict();
	jQuery(document).ready(function() {
		jQuery("#formm\\:selectoneRadioId1Ancien").change(function() {
			jQuery("#formm\\:panelGridId").css("display", "inline");
		});
		jQuery("#formm\\:selectoneRadioIdAncien").change(function() {
			jQuery("#formm\\:panelGridId").css("display", "none");
		});
	});
</script>
<style type="text/css">
/* disable column resize */
.extdt-hsep {
    display: none;
}
</style>

</head>
<body>
	<!-- ********************************* -->
	<f:view locale="#{languageManager.locale}">
		<link rel="STYLESHEET" type="text/css"
			href="../framGraphique/#{languageManager.css}" title="css"></link>
		<div id="page">
			<div id="header">
				<ui:include src="../framGraphique/header.xhtml"></ui:include>
			</div>
			<div id="menuPrincipale">
				<ui:include src="../framGraphique/toolbar.xhtml"></ui:include>
			</div>
			<div id="contenu">
			
				<div id="corpsGauche">
					<h:form id="frmBtn">
						<rich:panel styleClass="rich-panel">
							<div id="barreIcone" style="height: 30px;">
								<div id="barreIconeGauche">
								
									<a4j:status id="ajaxStatus"
										onstart="#{rich:component('waitPanel')}.show('',{height:'85px', width:'250px'})"
										onstop="#{rich:component('waitPanel')}.hide()" />

									<rich:modalPanel id="waitPanel" style="text-align:center">
										<h:outputText value="#{msg.messageAttente}"
											style="font-weight:bold;font-size:large" />
waitPanel
										<div align="center">
											<h:graphicImage value="../framGraphique/images/timeOut.gif"
												alt="timeOut" />
										</div>
									</rich:modalPanel>
								</div>
								
								<div style="float: right;
	text-align: right;
	width: 350px;">
									<h:panelGrid columns="10" style=" width : 350px;">
									<rich:spacer width="120px"></rich:spacer>
									 <h:selectManyCheckbox id="list" rendered="#{variableGlobale.rendered and false}"
                          value="#{rapportCourriersListe.listSelected}" 	styleClass="xteDetailLabelOutput"
                          >
       
        <f:selectItem id="item2" itemLabel="#{msg.avecIdentifiant}" itemValue="2" />
        <f:selectItem id="item3" itemLabel="#{msg.avecObjet}" itemValue="3" />
    </h:selectManyCheckbox>
									<h:commandLink id="pdfClot" target="_blank"
										action="#{rapportCourriersListe.printPDFFRCloture}"
										status="ajaxStatusRapport">
										<h:graphicImage value="../framGraphique/images/pdfListeCourrierCloture.png"
											onmouseover="this.src='../framGraphique/images/pdfListeCourrierCloture.png'"
											onmouseout="this.src='../framGraphique/images/pdfListeCourrierCloture.png'"
											alt="pdf" rendered="#{variableGlobale.rendered}"/>
									</h:commandLink>
									<h:commandLink id="pdf" target="_blank"
										action="#{rapportCourriersListe.printPDFFR}"
										status="ajaxStatusRapport">
										<h:graphicImage value="../framGraphique/images/pdfListeCourrier.png"
											onmouseover="this.src='../framGraphique/images/pdfListeCourrier.png'"
											onmouseout="this.src='../framGraphique/images/pdfListeCourrier.png'"
											alt="pdf"  style="float:right;"/>
									</h:commandLink>
									<h:commandLink id="csv"
										action="#{rapportCourriersListe.printPDFFRCSV}"
										status="ajaxStatusRapport">
										<h:graphicImage value="../framGraphique/images/excel-petite.png"
											onmouseover="this.src='../framGraphique/images/excel-petite.png'"
											onmouseout="this.src='../framGraphique/images/excel-petite.png'"
											alt="csv"  style="float:right;"/>
									</h:commandLink>
									<rich:toolTip for="csv" value="#{msg.csvExportCourrier}"
										direction="top-right" />
									<h:commandLink id="pdf2" target="_blank"
										action="#{rapportCourriersListe.printCodeBarre}"
										status="ajaxStatusRapport" rendered ="#{not(variableGlobale.sonede)}">
										<h:graphicImage width="28" height="25"  value="../framGraphique/images/barcode.jpg"
											onmouseover="this.src='../framGraphique/images/barcode.jpg'"
											onmouseout="this.src='../framGraphique/images/barcode.jpg'"
											alt="pdf2" rendered="#{variableGlobale.rendered}"/>
									</h:commandLink>
									<h:commandLink id="img"
										action="#{rapportCourriersListe.printImage}"
										status="ajaxStatusRapport" rendered ="#{not(variableGlobale.sonede)}">
										<h:graphicImage width="28" height="25"  value="../framGraphique/images/image.png"
											onmouseover="this.src='../framGraphique/images/image.png'"
											onmouseout="this.src='../framGraphique/images/image.png'"
											alt="image" rendered="#{variableGlobale.rendered}"/>
									</h:commandLink>
									
								
									<h:commandLink  id="pdfmm" target="_blank"
										action="#{rapportCourriersListe.printInterne}"
										status="ajaxStatusRapport">
										<h:graphicImage width="28" height="25"  value="../framGraphique/images/pdfListeCourrierInterne.png"
											onmouseover="this.src='../framGraphique/images/pdfListeCourrierInterne.png'"
											onmouseout="this.src='../framGraphique/images/pdfListeCourrierInterne.png'"
											alt="pdf" rendered="#{variableGlobale.rendered}"/>
									</h:commandLink>
									<a4j:commandLink id="ajouter"
										action="#{aideEnLigneBean.resultat}"
										oncomplete="#{rich:component('aidePanal')}.show();"
										reRender="aidePanal">
										<h:graphicImage id="j"
											value="../framGraphique/images/help.png"  style="float:right;"/>
									</a4j:commandLink>
									<rich:toolTip for="pdf" value="#{msg.pdfExport}"
										styleClass="direction:#{languageManager.direction};" />
									<rich:toolTip for="pdf2" value="#{msg.codeExport}"
										styleClass="direction:#{languageManager.direction};" />
									<rich:toolTip for="img" value="#{msg.imgExport}"
										styleClass="direction:#{languageManager.direction};" />
									<rich:toolTip for="pdfmm" value="#{msg.intereneExport}"
										styleClass="direction:#{languageManager.direction};" />
									<rich:toolTip for="pdfClot" value="#{msg.clotExport}"
										styleClass="direction:#{languageManager.direction};" />
										</h:panelGrid>
								</div>
							</div>
						</rich:panel>
						<a4j:status id="ajaxStatusRapport" forceId="true"
							onstart="#{rich:component('waitPanelRapport')}.show('',{height:'85px', width:'250px'})"
							onstop="#{rich:component('waitPanelRapport')}.hide()" />
						<rich:modalPanel id="waitPanelRapport" style="text-align:center"
							autosized="true">
							<h:outputText value="#{msg.messageAttente}"
								style="font-weight:bold;font-size:large" />
								ajaxStatusRapport
							<div align="center">
								<h:graphicImage value="../framGraphique/images/timeOut.gif"
									alt="timeOut" />
							</div>
						</rich:modalPanel>

					</h:form>
			
					<rich:tabPanel id="tabPanelCourrier" 
						selectedTab="#{variableGlobale.selectedListCourrier}"
						styleClass="rich-tab-panel"
						headerAlignment="#{languageManager.headerAlignment}"
						switchType="ajax">
						<rich:tab name="CRjour" 		label="#{msg.MsgAujourdhuiCourrier} (#{courrierJourDataModel.totalCount})">
							<h:form id="formm">

								<h:panelGrid columns="5" style="font-size: 10px;"
									rendered="#{courrierConsultationJourBean.userOption}">
									<h:selectOneRadio id="selectoneRadioId"
										styleClass="xteDetailLabelOutput"
										style="font-size: 10px; direction:#{languageManager.direction};"
										value="#{courrierJourDataModel.typeCourrierJour}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierJourDataModel.permitionWalkVisit}"
											reRender="formm,data,scroller,record" ajaxSingle="true" />

										<f:selectItem itemLabel="#{msg.accueiltoutLescourriersLabel}"
											itemValue="Tous" />
										<f:selectItem itemLabel="#{msg.acceuilcourriersRecuLabel}"
											itemValue="Recu" />
										<f:selectItem itemLabel="#{msg.acceuilcourriersenvoyÃ©sLabel}"
											itemValue="Envoyes" />
									</h:selectOneRadio>
									<rich:separator lineType="dashed" height="25px" width="3px" rendered ="#{not(variableGlobale.sonede)}"
										align="center" />
									<rich:spacer width="5" />
									<h:selectBooleanCheckbox id="selectoneRadioId1" rendered ="#{not(variableGlobale.sonede)}"
										styleClass="xteDetailLabelOutput"
										style="margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierJourDataModel.checkedTypeCourrierValidationJour}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierJourDataModel.permitionWalkVisit}"
											reRender="data,scroller,record,selectoneRadioId"
											ajaxSingle="true" />
										
									</h:selectBooleanCheckbox>
									<h:outputText value="#{msg.acceuilcourriersDeValidationLbel}" rendered ="#{not(variableGlobale.sonede)}"
										styleClass="xteDetailLabelOutput" style="font-size: 10px;" />
								</h:panelGrid>

								<h:panelGrid columns="4"
									rendered="#{courrierConsultationJourBean.bocOption}">
									<h:selectOneRadio id="selectoneRadioIdBoc"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierJourDataModel.transmissionCourrierJour}">
										<a4j:support event="onchange"
											actionListener="#{courrierJourDataModel.permitionWalkVisit}"
											reRender="data,scroller,record,commandLinkIdJour,graphiqueImageIdJour,selectoneRadioId1"
											ajaxSingle="true" />
										<f:selectItems style="font-size: 10px;"
											value="#{courrierConsultationJourBean.selectItemsTr}" />
									</h:selectOneRadio>
								</h:panelGrid>
								<h:panelGrid columns="7" 
									rendered="#{courrierConsultationJourBean.bocOption}"
									style="float:left; font-size: 10px;">
									<h:selectOneRadio id="s" styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierJourDataModel.categorieCourrierJour}"
										layout="lineDirection">
										<a4j:support id="sel" event="onchange"
											actionListener="#{courrierJourDataModel.permitionWalkVisit}"
											reRender="data,scroller,record,commandLinkIdJour,graphiqueImageIdJour,selectoneRadioId1"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.acceuilTousLabel}"
											itemValue="T" />
										<f:selectItem itemLabel="#{msg.acceuilarrivÃ©Label}"
											itemValue="A" />
										<f:selectItem itemLabel="#{msg.acceuildÃ©partLabel}"
											itemValue="D" />
									</h:selectOneRadio>
									<rich:separator lineType="dashed" height="25px" width="3px"
										align="center" />
									<h:selectOneRadio id="selectoneRadioId111"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierJourDataModel.typeCourrierTraitementJour}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierJourDataModel.permitionWalkVisit}"
											reRender="data,scroller,record,commandLinkIdJour,graphiqueImageIdJour,selectoneRadioId1"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.acceuilTousLabel}"
											itemValue="tous" />
										<f:selectItem itemLabel="#{msg.acceuilTraitÃ©Label}"
											itemValue="traite" />
										<f:selectItem itemLabel="#{msg.acceuilNonTraitÃ©Label}"
											itemValue="nonTraite" />
									</h:selectOneRadio>

								</h:panelGrid>

								<rich:spacer width="100%" height="2" />
								<h:panelGrid
									rendered="#{courrierConsultationJourBean.vb.person.responsable and not(courrierConsultationJourBean.vb.person.boc)}">
									<h:selectOneRadio id="selectoneRadioRubriqueJour"
										styleClass="xteDetailLabelOutput"
										style="font-size: 10px; margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierJourDataModel.courrierRubriqueJour}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierJourDataModel.permitionWalkVisit}"
											reRender="formm,data,scroller,record" ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.accueiltoutLescourriersLabel}"
											itemValue="6" />
										<f:selectItem itemLabel="#{msg.mesCourriers}" itemValue="1" />
										<f:selectItem itemLabel="#{msg.courrierMonUnite}"
											itemValue="2" />
										<f:selectItem
											itemDisabled="#{courrierJourDataModel.courrierConsultation.consultationCourrierSubordonne ne 'Oui'}"
											itemLabel="#{msg.courrierMesSubordonne}" itemValue="3" />
										<f:selectItem
											itemDisabled="#{courrierJourDataModel.courrierConsultation.consultationCourrierSecretaire ne 'Oui'}"
											itemLabel="#{msg.courrierMaSecretaire}" itemValue="4" />
										<f:selectItem
											itemDisabled="#{courrierJourDataModel.courrierConsultation.consultationCourrierSousUnite ne 'Oui'}"
											itemLabel="#{msg.courrierMesSousUnite}" itemValue="5" />
									</h:selectOneRadio>
								</h:panelGrid>
								<div>
								

									<rich:extendedDataTable enableContextMenu="false"
										noDataLabel="#{msg.acceuilPasDecourriersLabel}" 
										value="#{courrierJourDataModel}" var="cr" id="data" rows="10"
										style="margin-left:-10px; margin-right:-10px;direction:#{languageManager.direction};"
										onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
										onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
										height="450">
										
										
									
									
										<f:facet name="header">
											<h:outputText value="#{msg.listCourriersJour}" />
										</f:facet>
										
										<rich:column width="13%" >
											<f:facet name="header">
												<h:outputText value="#{msg.Reference}"
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;" />
												
											</f:facet>
										
											<h:outputText  styleClass="#{cr.style}" 
											value="#{cr.courrierDestinataireReelleDirection}"  />
										</rich:column>
										<rich:column width="12%">
											<f:facet name="header">
												<h:outputText value="#{msg.ColonneObjet}"
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;" />
											</f:facet>
											<h:outputText value="#{cr.courrierObjet}"  styleClass="#{cr.style}" />
										</rich:column>
										<rich:column width="12%">
											<f:facet name="header">
												<h:outputText value="#{msg.ColonneNature}"
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;" />
											</f:facet>
											<h:outputText value="#{cr.courrierNature}" styleClass="#{cr.style}"  />
											
											
										</rich:column>
											<rich:column label="#{msg.ColonneMode}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneMode}" style="white-space: initial !important;"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.transmission.transmissionLibelle}" styleClass="#{cr.style}"/>
									</rich:column>
										<rich:column width="12%" >
											<f:facet name="header">
												<h:outputText value="#{msg.dateReception}" style="white-space: initial !important;"
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;"
												    />
											</f:facet>
											<h:outputText value="#{cr.courrierDateReceptionEnvoi}" styleClass="#{cr.style}"  />
											
										</rich:column>
										<rich:column width="12%"  >
											<f:facet name="header" >
												<h:outputText value="#{msg.expediteurReelListeCourrier}" 
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;" />
											</f:facet>
											<h:outputText value="#{cr.courrierExpediteur}" styleClass="#{cr.style}"   />
										</rich:column>
										<rich:column width="15%"  >
											<f:facet name="header">
												<h:outputText value="#{msg.destReelle}" style="white-space: inherit;"
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;" />
											</f:facet>
											<h:outputText value="#{cr.courrierDestinataireReelle}" escape="false" styleClass="#{cr.style}"  />
										
										</rich:column>
										<rich:column width="13%">
											<f:facet name="header">
												<h:outputText value="#{msg.ColonneOperation}"
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;" />
											</f:facet>
											<div align="center">
												<h:panelGrid columns="6" style="margin-left:-4px;"
													rendered="#{courrierConsultationJourBean.userOption}">
													
													<h:column>
														<a4j:commandLink id="consult" ajaxSingle="true"
													
															action="#{courrierConsultationJourBean.getSelectionRowJour}"
															oncomplete="document.location.href='courrierConsulterDetails.jsf'">
															<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage
																rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}"
																value="../framGraphique/images/ConsulterLu.png" />
															<h:graphicImage
																rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}"
																value="../framGraphique/images/ConsulterNonLu.png"
																alt="#{msg.Consult}" style=" height : 16px; font-style : gras" />
														</a4j:commandLink>
														<rich:toolTip for="consult" value="#{msg.ReConsult}"
															rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}" />
														<rich:toolTip for="consult" value="#{msg.Consult}"
															rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}" />
													</h:column>
															
												<h:column >
												<a4j:commandLink id="receptionPhysiqueStructu" action="#{courrierConsultationJourBean.getSelectionRowJour}" ajaxSingle="true"  
									                 oncomplete=" #{rich:component('confirmationClassement')}.show();" reRender="confirmationClassement" >
									                 	<f:setPropertyActionListener value="#{cr}" 
																target="#{courrierConsultationJourBean.selectedCourrier}" ></f:setPropertyActionListener>
																										
															<h:graphicImage rendered="#{cr.courrierAvecDocumentPhysique}" 
															value="../framGraphique/images/courrierPhySmall.png"
															alt="receptionPhysiqueStructu" />
												</a4j:commandLink>
												<rich:toolTip for="receptionPhysiqueStructu" value="#{msg.modifReceptionPhysique}" />
													
													</h:column>
													<h:column>
														<a4j:commandLink id="aValider" 
															rendered="#{cr.courrierAValider eq 1 and not(variableGlobale.sonede)}" ajaxSingle="true"
															action="#{courrierConsultationJourBean.getSelectionRowJourForValidate}"
															oncomplete="document.location.href='courrierValidation.jsf'">
															<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage rendered="#{variableGlobale.rendered}"
																value="../framGraphique/images/courrierAValider.png"
																alt="aValider" style=" height : 16px;"/>
														</a4j:commandLink>
														<rich:toolTip for="aValider" value="#{msg.aValider}" />

														<h:graphicImage rendered="#{variableGlobale.rendered and cr.courrierAValider eq 0 and not(variableGlobale.sonede)}"
															value="../framGraphique/images/courrierAValiderDisabled.png"
															alt="aValiderDisabled" />
													</h:column>
													<h:column>
											
														<a4j:commandLink id="reponse"
															rendered="#{cr.courrierRecu eq 1 and  courrierJourDataModel.courrierRubriqueJour ne 5}" ajaxSingle="true"
															action="#{courrierConsultationJourBean.repondre}"
															oncomplete="document.location.href='courrierRepondre.jsf'">
															<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage
															rendered="#{variableGlobale.rendered}"
																value="../framGraphique/images/RepondreIconSmall.png"
																alt="reponse" />
														</a4j:commandLink>
														<rich:toolTip for="reponse" value="#{msg.Reponse}" />

														<h:graphicImage 
															rendered="#{variableGlobale.rendered and cr.courrierRecu eq 0}"
															value="../framGraphique/images/RepondreIconSmallDisab.png"
															alt="reponseDisabled" />
<!--															rendered="#{cr.courrierRecu eq 0}"-->
															
													</h:column>
													<h:column>
														<a4j:commandLink id="trans" ajaxSingle="true" rendered="#{courrierJourDataModel.courrierRubriqueJour ne 5}"
															action="#{courrierConsultationJourBean.getSelectionRowJour}"
															oncomplete="document.location.href='courrierTransfere.jsf'">
															<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage
																rendered="#{variableGlobale.rendered}"
																value="../framGraphique/images/TransfereIconSmall.png"
																alt="trans" />
														</a4j:commandLink>
														<rich:toolTip for="trans" value="#{msg.Trans}" />
													</h:column>
												

													<h:column
														rendered="#{cr.transactionDestinationReelID ne null}">
														<h:graphicImage id="valide" rendered="#{cr.etatID eq 4}"
															value="../framGraphique/images/vert.png" alt="trans" />
														<rich:toolTip for="valide" value="#{msg.courrierValide}" />
														<h:graphicImage id="nonValide"
															rendered="#{cr.etatID eq 3}"
															value="../framGraphique/images/rouge.png" alt="trans" />
														<rich:toolTip for="nonValide"
															value="#{msg.courrierNonValide}" />
														<h:graphicImage id="attenteTraitement"
															rendered="#{cr.treated}"
															value="../framGraphique/images/bleu.png" alt="trans"
															style=" height : 10px;" />
														<rich:toolTip for="attenteTraitement"
															value="#{msg.courrierTraite}" />
														<h:graphicImage id="traite" rendered="#{cr.untreated}"
															value="../framGraphique/images/gris.png" alt="trans" />
														<rich:toolTip for="traite" value="#{msg.courrierATraiter}" />
														<h:graphicImage id="attenteValidation"
															rendered="#{cr.etatID eq 2}"
															value="../framGraphique/images/oranger.png" alt="trans" />
														<rich:toolTip for="attenteValidation"
															value="#{msg.courrierAValide}" />
													</h:column>
												</h:panelGrid>
												<h:panelGrid columns="6"
													rendered="#{courrierConsultationJourBean.bocOption}">
														
													<h:column>
														<a4j:commandLink id="consultBoc"
															rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}"
															action="#{courrierConsultationJourBean.getSelectionRowJour}"
															ajaxSingle="true"
															oncomplete="document.location.href='courrierConsulterDetails.jsf'">
															<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage
																value="../framGraphique/images/ConsulterLu.png"
																alt="Consulter" />
														</a4j:commandLink>
														<rich:toolTip for="consultBoc" value="#{msg.ReConsult}" />
													
														<a4j:commandLink id="consultBoc1"
														disabled="#{cr.disbledBontonConsultation}"
															rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}"
															action="#{courrierConsultationJourBean.getSelectionRowJour}"
															ajaxSingle="true"
															oncomplete="document.location.href='courrierConsulterDetails.jsf'">
															<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage
																value="../framGraphique/images/ConsulterNonLu.png"
																alt="Consulter" style=" height : 16px; font-style : gras" />
														</a4j:commandLink>
														<rich:toolTip for="consultBoc1" value="#{msg.Consult}" />
													</h:column>
													<h:column >
														
											<a4j:commandLink id="receptionPhysique" action="#{courrierConsultationJourBean.getSelectionRowJour}"  ajaxSingle="true"
									                   oncomplete="#{rich:component('confirmationClassement')}.show();" reRender="confirmationClassement" >
									                 	<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage rendered="#{cr.courrierAvecDocumentPhysique}" style="width:20px !important"
															value="../framGraphique/images/courrierPhySmall.png"
															alt="receptionPhysique" />
												</a4j:commandLink>
												<rich:toolTip for="receptionPhysique" value="#{msg.modifReceptionPhysique}" />
													
													</h:column>
													<a4j:commandLink id="modifModeTr" action="#{courrierConsultationJourBean.getSelectionRowJourModifModeTransmission}" ajaxSingle="true" 
									                 oncomplete="#{rich:component('updateModeTr')}.show();" reRender="updateModeTr">
									                 	<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage  style="width:20px !important" rendered="#{cr.showModificationButton}"
															value="../framGraphique/images/toolBar/editModeTransmission.png"
															alt="modifModeTr" />
													</a4j:commandLink>
													<rich:toolTip for="modifModeTr" value="#{msg.modifModTr}" />
													<h:column>
														<a4j:commandLink id="aValiderBoc"
															rendered="#{cr.courrierAValider eq 1}"
															action="#{courrierConsultationJourBean.executeJour}"
															ajaxSingle="true"
															oncomplete="if(#{courrierConsultationJourBean.showResponsableResponse}==true)
																			#{rich:component('panelSelectRespResponsible')}.show();
																			
																		if(#{courrierConsultationJourBean.receptionphysiqueNonLivre}==true)
																			#{rich:component('msgPanalReceptionPhysique')}.show();
																			
																		if(#{courrierConsultationJourBean.courrierPointer}==true)
																		#{rich:component('msgPanalPoinatgeCourrier')}.show();
																		
																		if(#{courrierConsultationJourBean.status1}==true)
																			#{rich:component('msgPanal1')}.show();
																			
																		if(#{courrierConsultationJourBean.status2}==true)
																			#{rich:component('msgPanal2')}.show();
																			if(#{courrierConsultationJourBean.existeBOSansMembres}==true)
																			#{rich:component('msgPanalExisteBOSansMembres')}.show();"
																			
															reRender="msgPanal1,msgPanal2,msgPanalReceptionPhysique,msgPanalExisteBOSansMembres,msgPanalPoinatgeCourrier">
															<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationJourBean.selectedCourrier}">
															</f:setPropertyActionListener>
															<h:graphicImage
																value="../framGraphique/images/executeIcon.png"
																alt="aValider1" />
														</a4j:commandLink>
														<rich:toolTip for="aValiderBoc" value="#{msg.aExecuter}" />
														<h:graphicImage rendered="#{cr.courrierAValider eq 0}"
															value="../framGraphique/images/executeIconGrised.png"
															alt="aValiderDisabled1" style=" width : 16px; height : 16px;"/>
													</h:column>
												</h:panelGrid>
											</div>
										</rich:column>
										<rich:column visible="false" sortBy="#{cr.typeCourrier}"
											id="job">
											<f:facet name="header">
												<h:outputText value="Type courrier"
													onmousemove="event.cancelBubble = true;return false;"
													onmousedown="event.cancelBubble = true;return false;" />
											</f:facet>
											<h:outputText value="#{cr.typeCourrier}"
												styleClass="xteDetailLabel" />
										</rich:column>
									</rich:extendedDataTable>
								</div>
								<div align="center">
									<rich:datascroller stepControls="hide" for="data" id="scroller"
										page="#{courrierJourDataModel.firstPage}"
										actionListener="#{courrierJourDataModel.permitionWalkScroller}"
										style="direction:#{languageManager.direction};" />
									<h:outputText value="#{msg.nbEnregistrement}"
										styleClass="xteNombreEnregistrementLabelOutput" />
									<h:outputText id="record"
										value="(#{courrierJourDataModel.rowCount})"
										styleClass="xteNombreEnregistrementLabelOutput" />
								</div>

								<rich:spacer width="100%" height="8" />
							</h:form>
							<rich:modalPanel id="panelSelectRespResponsible" autosized="true"
								height="100" width="400">
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />

										<h:outputText value="#{msg.labelAlerte}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>

								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/closePopup.png"
											width="15" height="15"
											id="hidelinkpanelSelectRespResponsible" />
										<rich:componentControl for="panelSelectRespResponsible"
											attachTo="hidelinkpanelSelectRespResponsible"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>

								<h:form>
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/avertissement.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.responseResponsibleMustBeSelected}" />
											</td>
										</tr>
									</table>

									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													oncomplete="Richfaces.hideModalPanel('panelSelectRespResponsible');"
													type="submit" ajaxSingle="true" styleClass="submitButton" />
											</td>

										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
							
							
							<rich:modalPanel id="msgPanalExisteBOSansMembres" autosized="true" height="100"
								width="400">
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />

										<h:outputText value="#{msg.labelInfo}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink12555" />
										<rich:componentControl for="msgPanalExisteBOSansMembres" attachTo="hidelink155"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<a4j:keepAlive beanName="courrierConsultationJourBean" />
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/interrogation.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.msgBOSansMembre}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													onclick="Richfaces.hideModalPanel('msgPanalExisteBOSansMembres');"
													ajaxSingle="true"
													type="submit" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
							
							
								<rich:modalPanel id="msgPanalReceptionPhysique" autosized="true" height="100"
								width="400">
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />

										<h:outputText value="#{msg.labelInfo}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink125" />
										<rich:componentControl for="msgPanal1" attachTo="hidelink1"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<a4j:keepAlive beanName="courrierConsultationJourBean" />
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/interrogation.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.msgResptionPhysiqueNonFaite}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													onclick="Richfaces.hideModalPanel('msgPanalReceptionPhysique');"
													reRender="formm,data,scroller,record" ajaxSingle="true"
													type="submit" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
							
							<rich:modalPanel id="msgPanalPoinatgeCourrier" autosized="true" height="100"
								width="400">
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />

										<h:outputText value="#{msg.labelInfo}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink120" />
										<rich:componentControl for="msgPanal1" attachTo="hidelink1"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<a4j:keepAlive beanName="courrierConsultationJourBean" />
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/interrogation.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.msgPointageCourrierNonFaite}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													onclick="Richfaces.hideModalPanel('msgPanalPoinatgeCourrier');"
													reRender="formm,data,scroller,record" ajaxSingle="true"
													type="submit" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
							
							
							
							
							
							
							
							
							<rich:modalPanel id="msgPanal1" autosized="true" height="100"
								width="400">
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />

										<h:outputText value="#{msg.labelInfo}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink1" />
										<rich:componentControl for="msgPanal1" attachTo="hidelink1"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<a4j:keepAlive beanName="courrierConsultationJourBean" />
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/interrogation.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.CourrierTransferMsg}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton 
													value="#{msg.bouttonOk}" status="ajaxStatusWait"
													onclick="Richfaces.hideModalPanel('msgPanal1');document.location.href='accueil.jsf'"
													reRender="formm,data,scroller,record,ajaxStatusWait" ajaxSingle="true"
													type="submit" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
									
<a4j:keepAlive beanName="courrierConsultationJourBean" />
							<rich:modalPanel id="msgPanal2" autosized="true" height="100"
								width="400">
								
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />
										<h:outputText value="#{msg.labelError}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink2" />
										<rich:componentControl for="msgPanal2" attachTo="hidelink2"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/erreurrrrr.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.erreurTransfert}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													onclick="Richfaces.hideModalPanel('msgPanal2')"
													type="submit" ajaxSingle="true" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
							
							<rich:modalPanel id="updateModeTr" autosized="true"
						height="120" width="450" styleClass="rich-panel">
						<f:facet name="header">
							<h:panelGrid columns="3" styleClass="xtePanelGrid"
								cellpadding="0" cellspacing="0">
								<h:outputText value="#{msg.modifModeDeTransmission}"
									styleClass="xtePopupInformationTextHeader" />
							</h:panelGrid>
						</f:facet>						 
							<rich:messages ajaxRendered="true" errorClass="msgError"
								styleClass="error" />
							<rich:spacer height="5" />
							<h:form>								
							<h:panelGrid columns="2" styleClass="xtePanelGrid" id="dR" >							
								<h:column>								
										<h:outputText value="#{msg.CourrierMode}"
														styleClass="xteDetailLabel" />
													<rich:spacer width="5px" />
										<h:outputText value="*" styleClass="error" />
								</h:column>
								
										<h:selectOneMenu
													value="#{courrierConsultationJourBean.selectedItemsTr}" 
													label="Choisir le mode" style=" width : 133px;"
													required="true"
													requiredMessage="* #{msg.ColonneMode} #{msg.champsobligatoire}">
													<f:selectItems
														value="#{courrierConsultationJourBean.selectItemsTr2}" />
														<a4j:support event="onchange"														
														ajaxSingle="true"
														 />
													
										</h:selectOneMenu>										
																						
							</h:panelGrid>
							<rich:spacer width="5" height="10"/>
							<div align="center">							
								<a4j:commandButton value="#{msg.buttonValidate}"
									action="#{courrierConsultationJourBean.updateModeTr}"									
									type="submit" ajaxSingle="true" styleClass="submitButton"
									  oncomplete="if(#{courrierConsultationJourBean.status1}==true){ 
									  Richfaces.hideModalPanel('updateModeTr');#{rich:component('msgPanal')}.show();}" 
									  reRender="msgPanal">									
									 </a4j:commandButton>
									 <rich:spacer width="2" /> 
								<a4j:commandButton value="#{msg.buttonCancel}"
									styleClass="submitButton"
									onclick="Richfaces.hideModalPanel('updateModeTr');" />
							</div>
					</h:form>
					</rich:modalPanel>
					
					<rich:modalPanel id="msgPanal" autosized="true" height="100"
							width="400">
							<f:facet name="header">
								<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
									<rich:spacer width="2" />

									<h:outputText value="#{msg.labelInfo}"
										styleClass="xtePopupInformationTextHeader" />
								</h:panelGrid>
							</f:facet>
							<f:facet name="controls">
								<h:panelGroup>
									<h:graphicImage value="../framGraphique/images/close.png"
										width="15" height="15" id="hidelink10" />
									<rich:componentControl for="msgPanal" attachTo="hidelink1"
										operation="hide" event="onclick" />
								</h:panelGroup>
							</f:facet>
							<h:form>
								
								<table align="center">
									<tr>
										<td align="left"><h:graphicImage
												value="../framGraphique/images/interrogation.png"
												alt="confirm" />
										</td>
										<td align="center" colspan="2"><h:outputText
												styleClass="popupInformationText"
												value="#{msg.confirmUpdate}" />
										</td>
									</tr>
								</table>
								<table align="center">
									<tr>
										<td align="center"><a4j:commandButton
												value="#{msg.bouttonOk}"
												onclick="document.location.href='accueil.jsf'"
												oncomplete="Richfaces.hideModalPanel('msgPanal');"
												type="submit" ajaxSingle="true" styleClass="submitButton" />
										</td>
									</tr>
								</table>
							</h:form>
						</rich:modalPanel>
					
							
							
							
							
						</rich:tab>
						<rich:tab name="CRmois"
							label="#{courrierConsultationRecentBean.month} #{courrierConsultationRecentBean.year} (#{courrierConsultationMoisDataModel.totalCount})">

							<h:form id="frmCourrierMois">
								<h:panelGrid columns="5"
									rendered="#{courrierConsultationRecentBean.userOption}">
									<h:selectOneRadio id="selectoneRadioIdMois"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierConsultationMoisDataModel.typeCourrierMois}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationMoisDataModel.permitionWalkVisit}"
											reRender="frmCourrierMois,dataMois,scrollerMois,recordMois,selectoneRadioId1Mois,panelGridIdMois"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.accueiltoutLescourriersLabel}"
											itemValue="Tous" />
										<f:selectItem itemLabel="#{msg.acceuilcourriersRecuLabel}"
											itemValue="Recu" />
										<f:selectItem itemLabel="#{msg.acceuilcourriersenvoyÃ©sLabel}"
											itemValue="Envoyes" />
									</h:selectOneRadio>
									<rich:separator lineType="dashed" height="25px" width="3px" rendered ="#{not(variableGlobale.sonede)}"
										align="center" />
									<rich:spacer width="5" />
									<h:selectBooleanCheckbox id="selectoneRadioId1Mois" rendered ="#{not(variableGlobale.sonede)}"
										styleClass="xteDetailLabelOutput"
										style="margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierConsultationMoisDataModel.checkedTypeCourrierValidationMois}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationMoisDataModel.permitionWalkVisit}"
											reRender="frmCourrierMois,dataMois,scrollerMois,recordMois,selectoneRadioIdMois,panelGridIdMois"
											ajaxSingle="true" />
										<a4j:keepAlive beanName="courrierConsultationMoisDataModel" />
									</h:selectBooleanCheckbox>
									<h:outputText value="#{msg.acceuilcourriersDeValidationLbel}" rendered ="#{not(variableGlobale.sonede)}"
										styleClass="xteDetailLabelOutput" style="font-size:10px;" />
								</h:panelGrid>
								<h:panelGrid id="panelGridIdMois"
									style="float:right; height:10px; margin-top:-20px; padding-right:1px;"
									rendered="#{courrierConsultationRecentBean.userOption}">
									<h:column>
										<h:panelGrid columns="6" style="margin-top:10px;"
											rendered="#{courrierConsultationRecentBean.moreChoices}">
											<h:column>
												<h:selectBooleanCheckbox
													value="#{courrierConsultationRecentBean.allMailChecked}"
													id="allMail">
													<a4j:support event="onchange"
														reRender="checkBox1Mois,checkBox2Mois,checkBox3Mois,checkBox4Mois"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:outputText value="#{msg.acceuilTousLabel}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox1Mois"
													value="#{courrierConsultationRecentBean.toValidateMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid1Mois"
													value="../framGraphique/images/oranger.png" alt="trans" />
												<h:outputText value="#{msg.aValiderLabel}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox2Mois"
													value="#{courrierConsultationRecentBean.validatedMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid2Mois"
													value="../framGraphique/images/vert.png" alt="trans" />
												<h:outputText value="#{msg.acceuilValidÃ©Label}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox3Mois"
													value="#{courrierConsultationRecentBean.notValidatedMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid3Mois"
													value="../framGraphique/images/rouge.png" alt="trans" />
												<h:outputText value="#{msg.acceuilNonValidÃ©Label}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox4Mois"
													value="#{courrierConsultationRecentBean.treatedMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid4Mois"
													value="../framGraphique/images/bleu.png" alt="trans" />
												<h:outputText value="#{msg.acceuilTraitÃ©Label}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<rich:spacer width="10" />
												<a4j:commandLink
													reRender="panelGridIdMois,dataMois,scrollerMois,recordMois"
													status="ajaxStatusMois">
													<h:graphicImage
														value="../framGraphique/images/iconeVal.png" alt="details" />
												</a4j:commandLink>
											</h:column>
											<a4j:status id="ajaxStatusMois" forceId="true"
												onstart="#{rich:component('waitPanelMois')}.show('',{height:'85px', width:'250px'})"
												onstop="#{rich:component('waitPanelMois')}.hide()" />
											<rich:modalPanel id="waitPanelMois" style="text-align:center"
												autosized="true">
												<h:outputText value="#{msg.messageChargement}"
													style="font-weight:bold;font-size:large" />
													ajaxStatusMois
												<div align="center">
													<h:graphicImage value="../framGraphique/images/timeOut.gif"
														alt="timeOut" />
												</div>
											</rich:modalPanel>
										</h:panelGrid>
									</h:column>
								</h:panelGrid>
								<h:panelGrid columns="4"
									rendered="#{courrierConsultationRecentBean.bocOption}">
									<h:selectOneRadio id="selectoneRadioIdBocMois"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierConsultationMoisDataModel.transmissionCourrierMois}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationMoisDataModel.permitionWalkVisit}"
											reRender="frmCourrierMois,dataMois,scrollerMois,recordMois"
											ajaxSingle="true" />
										<f:selectItems
											value="#{courrierConsultationRecentBean.selectItemsTr}" style="font-size:10px;" />
									</h:selectOneRadio>
								</h:panelGrid>
								<h:panelGrid columns="7"
									rendered="#{courrierConsultationRecentBean.bocOption}"
									style="float:left; font-size:10px;">
									<h:selectOneRadio id="selectoneRadioIdBoc4Mois"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierConsultationMoisDataModel.categorieCourrierMois}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationMoisDataModel.permitionWalkVisit}"
											reRender="frmCourrierMois,dataMois,scrollerMois,recordMois,commandLinkIdMois,graphiqueImageId,selectoneRadioId1Mois,panelGridIdMois"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.acceuilTousLabel}"
											itemValue="T" />
										<f:selectItem itemLabel="#{msg.acceuilarrivÃ©Label}"
											itemValue="A" />
										<f:selectItem itemLabel="#{msg.acceuildÃ©partLabel}"
											itemValue="D" />
									</h:selectOneRadio>
									<rich:separator lineType="dashed" height="25px" width="3px"
										align="center" />
									<h:selectOneRadio id="selectoneRadioId111Mois"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierConsultationMoisDataModel.typeCourrierTraitementMois}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationMoisDataModel.permitionWalkVisit}"
											reRender="frmCourrierMois,dataMois,scrollerMois,recordMois,commandLinkIdMois,graphiqueImageId,selectoneRadioId1Mois,panelGridIdMois"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.acceuilTousLabel}"
											itemValue="tous" />
										<f:selectItem itemLabel="#{msg.acceuilTraitÃ©Label}"
											itemValue="traite" />
										<f:selectItem itemLabel="#{msg.acceuilNonTraitÃ©Label}"
											itemValue="nonTraite" />
									</h:selectOneRadio>

								</h:panelGrid>
								<h:panelGrid id="commandLinkIdMois" style="float:right;" columns="3"
									rendered="#{courrierConsultationRecentBean.bocOption and false}">
									<a4j:commandLink id="cl"
										action="#{courrierConsultationRecentBean.executeAllTransaction}"
										rendered="#{courrierConsultationRecentBean.showExecuteAllButton}"
										reRender="panelGridIdMois,dataMois,scrollerMois,recordMois">
										<h:graphicImage
											value="../framGraphique/images/executeAllIcon.png"
											alt="details" />
									</a4j:commandLink>
									<h:graphicImage 
										value="../framGraphique/images/executeAllDisabledIcon.png"
										alt="details"
										rendered="#{courrierConsultationRecentBean.hideExecuteAllButton}" />
									<rich:toolTip for="cl" value="#{msg.executeAll}" />
								</h:panelGrid>
								<rich:spacer width="100%" height="2" />
								<h:panelGrid
									rendered="#{courrierConsultationRecentBean.vb.person.responsable and not(courrierConsultationJourBean.vb.person.boc)}">
									<h:selectOneRadio id="selectoneRadioRubriqueMois"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierConsultationMoisDataModel.courrierRubrique}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationMoisDataModel.permitionWalkVisit}"
											reRender="frmCourrierMois,dataMois,scrollerMois,recordMois,selectoneRadioId1Mois,panelGridIdMois"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.accueiltoutLescourriersLabel}"
											itemValue="6" />
										<f:selectItem itemLabel="#{msg.mesCourriers}" itemValue="1" />
										<f:selectItem itemLabel="#{msg.courrierMonUnite}"
											itemValue="2" />
										<f:selectItem
											itemDisabled="#{courrierConsultationMoisDataModel.courrierConsultation.consultationCourrierSubordonne ne 'Oui'}"
											itemLabel="#{msg.courrierMesSubordonne}" itemValue="3" />
										<f:selectItem
											itemDisabled="#{courrierConsultationMoisDataModel.courrierConsultation.consultationCourrierSecretaire ne 'Oui'}"
											itemLabel="#{msg.courrierMaSecretaire}" itemValue="4" />
										<f:selectItem
											itemDisabled="#{courrierConsultationMoisDataModel.courrierConsultation.consultationCourrierSousUnite ne 'Oui'}"
											itemLabel="#{msg.courrierMesSousUnite}" itemValue="5" />
									</h:selectOneRadio>
								</h:panelGrid>

								<rich:extendedDataTable value="#{courrierConsultationMoisDataModel}"
									enableContextMenu="false" var="cr" id="dataMois" rows="10"
									noDataLabel="#{msg.acceuilPasDecourriersLabel}"
									style="width=:730px; margin-left:-10px; margin-right:-10px;"
									onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
									onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
									height="450">
									<f:facet name="header">
										<h:outputText value="#{msg.listCourriers}" />
									</f:facet>
									<rich:column label="#{msg.Reference}" width="13%" >
										<f:facet name="header">
											<h:outputText value="#{msg.Reference}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
<!--										<h:outputText value="#{cr.courrierReference}" />-->
										<h:outputText value="#{cr.courrierDestinataireReelleDirection}" styleClass="#{cr.style}"/>
										
									</rich:column>
									<rich:column label="#{msg.ColonneObjet}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneObjet}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierObjet}" styleClass="#{cr.style}" />
									</rich:column>
									<rich:column label="#{msg.ColonneNature}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneNature}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierNature}" styleClass="#{cr.style}"/>
									</rich:column>
									
									<rich:column label="#{msg.ColonneMode}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneMode}" style="white-space: initial !important;"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.transmission.transmissionLibelle}" styleClass="#{cr.style}"/>
									</rich:column>
									<rich:column label="#{msg.dateReception}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.dateReception}" style="white-space: initial !important;"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierDateReceptionEnvoi}"  styleClass="#{cr.style}"/>
									</rich:column>
									<rich:column label="#{msg.expediteur}" width="14%">
										<f:facet name="header">
											<h:outputText value="#{msg.expediteurReelListeCourrier}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierExpediteur}" styleClass="#{cr.style}" />
									</rich:column>
									<rich:column label="#{msg.destReelle}" width="17%" sortOrder="DESCENDING">
										<f:facet name="header">
											<h:outputText value="#{msg.destReelle}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierDestinataireReelle}" styleClass="#{cr.style}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneOperation}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<div align="center">
											<h:panelGrid columns="6" style="margin-left:-4px;"
												rendered="#{courrierConsultationRecentBean.userOption}">
												<h:column>
													<a4j:commandLink id="consult1"
													
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														ajaxSingle="true"
														oncomplete="document.location.href='courrierConsulterDetails.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}"
															value="../framGraphique/images/ConsulterLu.png" />
														<h:graphicImage
															rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}"
															value="../framGraphique/images/ConsulterNonLu.png" />
													</a4j:commandLink>
													<rich:toolTip for="consult1" value="#{msg.ReConsult}"
														rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}" />
													<rich:toolTip for="consult1" value="#{msg.Consult}"
														rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}" />
												</h:column>
												<h:column>
													<a4j:commandLink id="aValider1"
														rendered="#{cr.courrierAValider eq 1 and not(variableGlobale.sonede)}" ajaxSingle="true"
														action="#{courrierConsultationRecentBean.getSelectionRowForValidate}"
														oncomplete="document.location.href='courrierValidation.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/courrierAValider.png"
															alt="aValider1" />
													</a4j:commandLink>
													<rich:toolTip for="aValider1" value="#{msg.aValider}" />

													<h:graphicImage rendered="#{variableGlobale.rendered and not(variableGlobale.sonede)}"
														value="../framGraphique/images/courrierAValiderDisabled.png"
														alt="aValiderDisabled1" />
												</h:column>
													<h:column >
												<a4j:commandLink id="receptionPhysiqueStructu" action="#{courrierConsultationRecentBean.getSelectionRow}" ajaxSingle="true"
									                 oncomplete="#{rich:component('confirmationClassementRecent')}.show();" reRender="confirmationClassementRecent" >
									                 	<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage rendered="#{cr.courrierAvecDocumentPhysique}" style="width:20px !important"
															value="../framGraphique/images/courrierPhySmall.png"
															alt="receptionPhysiqueStructu" />
												</a4j:commandLink>
													<rich:toolTip for="receptionPhysiqueStructu" value="#{msg.modifReceptionPhysique}" />
													</h:column>
														
												<h:column>
													<a4j:commandLink id="reponse1"
														rendered="#{cr.courrierRecu eq 1 and courrierConsultationMoisDataModel.courrierRubrique ne 5}" ajaxSingle="true"
														action="#{courrierConsultationRecentBean.repondre}"
														oncomplete="document.location.href='courrierRepondre.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/RepondreIconSmall.png"
															alt="reponse1" />
													</a4j:commandLink>
													<rich:toolTip for="reponse1" value="#{msg.Reponse}" />

													<h:graphicImage 
														rendered="#{variableGlobale.rendered and cr.courrierRecu eq 0}"
														value="../framGraphique/images/RepondreIconSmallDisab.png"
														alt="reponseDisabled1" />
<!--														rendered="#{cr.courrierRecu eq 0}"-->
												</h:column>
												<h:column>
													<a4j:commandLink id="trans1" ajaxSingle="true"	rendered="#{courrierConsultationMoisDataModel.courrierRubrique ne 5}"											
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														oncomplete="document.location.href='courrierTransfere.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/TransfereIconSmall.png"
															alt="trans1" />
													</a4j:commandLink>
													<rich:toolTip for="trans1" value="#{msg.Trans}" />
												</h:column>
												
												<h:column rendered="#{cr.forValidating}">
													<h:graphicImage id="valide" rendered="#{cr.etatID eq 4}"
														value="../framGraphique/images/vert.png" alt="trans" />
													<rich:toolTip for="valide" value="#{msg.courrierValide}" />
													<h:graphicImage id="nonValide" rendered="#{cr.etatID eq 3}"
														value="../framGraphique/images/rouge.png" alt="trans" />
													<rich:toolTip for="nonValide"
														value="#{msg.courrierNonValide}" />
													<h:graphicImage id="attenteTraitement"
														rendered="#{cr.treated}"
														value="../framGraphique/images/bleu.png" alt="trans" />
													<rich:toolTip for="attenteTraitement"
														value="#{msg.courrierTraite}" />
													<h:graphicImage id="traite" rendered="#{cr.untreated}"
														value="../framGraphique/images/gris.png" alt="trans" />
													<rich:toolTip for="traite" value="#{msg.courrierATraiter}" />
													<h:graphicImage id="attenteValidation"
														rendered="#{cr.etatID eq 2}"
														value="../framGraphique/images/oranger.png" alt="trans" />
													<rich:toolTip for="attenteValidation"
														value="#{msg.courrierAValide}" />
												</h:column>
											</h:panelGrid>

											<h:panelGrid columns="6"
												rendered="#{courrierConsultationRecentBean.bocOption}"
												style="margin-left:6px;">
												<h:column>
													<a4j:commandLink id="consultBoc"
													disabled="#{cr.disbledBontonConsultation}"
														rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}"
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														ajaxSingle="true"
														oncomplete="document.location.href='courrierConsulterDetails.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/ConsulterLu.png"
															alt="Consulter" />
													</a4j:commandLink>
													<rich:toolTip for="consultBoc" value="#{msg.ReConsult}" />
													<a4j:commandLink id="consultBoc1"
												disabled="#{cr.disbledBontonConsultation}"
														rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}"
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														ajaxSingle="true"
														oncomplete="document.location.href='courrierConsulterDetails.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/ConsulterNonLu.png"
															alt="Consulter" />
													</a4j:commandLink>
													<rich:toolTip for="consultBoc1" value="#{msg.Consult}" />
												</h:column>
												
												<h:column >
													<a4j:commandLink id="receptionPhysique" action="#{courrierConsultationRecentBean.getSelectionRow}"  ajaxSingle="true"
									               oncomplete="#{rich:component('confirmationClassementRecent')}.show();" reRender="confirmationClassementRecent" >
									                 	<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage rendered="#{cr.courrierAvecDocumentPhysique}" style="width:20px !important"
															value="../framGraphique/images/courrierPhySmall.png"
															alt="receptionPhysique" />
												</a4j:commandLink>
												<rich:toolTip for="receptionPhysique" value="#{msg.modifReceptionPhysique}" />
												
												</h:column>
												<a4j:commandLink id="modifModeTr" action="#{courrierConsultationRecentBean.getSelectionRowModifModeTransmission}" ajaxSingle="true"
									                 oncomplete="#{rich:component('updateModeTrRecent')}.show();" reRender="updateModeTrRecent">
									                 	<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage  style="width:20px !important" rendered="#{cr.showModificationButton}"
															value="../framGraphique/images/toolBar/editModeTransmission.png"
															alt="modifModeTr" />
													</a4j:commandLink>
												
												<rich:toolTip for="modifModeTr" value="#{msg.modifModTr}" />
												
												<h:column>
													<a4j:commandLink id="aValiderBoc"
														rendered="#{cr.courrierAValider eq 1}" ajaxSingle="true"
														action="#{courrierConsultationRecentBean.execute}"
														oncomplete="if(#{courrierConsultationRecentBean.status1}==true)
																		#{rich:component('msgPanal11')}.show();
																			
																		if(#{courrierConsultationRecentBean.receptionphysiqueNonLivre}==true)
																			#{rich:component('msgPanalReceptionPhysique')}.show();
																	if(#{courrierConsultationRecentBean.status2}==true)
																		#{rich:component('msgPanal22')}.show();
																		if(#{courrierConsultationRecentBean.existeBOSansMembres}==true)
																			#{rich:component('msgPanalExisteBOSansMembres')}.show();"
														reRender="msgPanal11,msgPanal22,msgPanalExisteBOSansMembres">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/executeIcon.png"
															alt="aValider1" />
													</a4j:commandLink>
													<rich:toolTip for="aValiderBoc" value="#{msg.aExecuter}" />
													<h:graphicImage rendered="#{cr.courrierAValider eq 0}"
														value="../framGraphique/images/executeIconGrised.png"
														alt="aValiderDisabled1" style=" width : 16px;" />
												</h:column>
											</h:panelGrid>
										</div>
									</rich:column>
									<rich:column label="Courriers" id="type1"
										filterBy="#{cr.typeCourrier}" filterEvent="onkeyup"
										sortBy="#{cr.typeCourrier}" visible="false">
										<h:outputText value="#{cr.typeCourrier}"
											styleClass="xteDetailLabel" />
									</rich:column>
								</rich:extendedDataTable>

								<div align="center">
									<rich:datascroller stepControls="hide" for="dataMois"
										id="scrollerMois" page="#{courrierConsultationMoisDataModel.firstPage}"
										actionListener="#{courrierConsultationMoisDataModel.permitionWalkScroller}" />
									<h:outputText
										value="#{msg.nbEnregistrement}  #{courrierConsultationMoisDataModel.rowCount}"
										styleClass="xteNombreEnregistrementLabelOutput" />

								</div>
							</h:form>
							<rich:spacer width="100%" height="8" />

							<rich:modalPanel id="msgPanal11" autosized="true" height="100"
								width="400">
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />

										<h:outputText value="#{msg.labelInfo}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink11" />
										<rich:componentControl for="msgPanal11" attachTo="hidelink11"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<a4j:keepAlive beanName="courrierConsultationRecentBean" />
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/interrogation.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.CourrierTransferMsg}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
												status="ajaxStatusWait"
													onclick="Richfaces.hideModalPanel('msgPanal11');document.location.href='accueil.jsf'"
													reRender="frmCourrierMois,dataMois,scrollerMois,recordMois"
													type="submit" ajaxSingle="true" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>

							<rich:modalPanel id="msgPanal22" autosized="true" height="100"
								width="400">
								<a4j:keepAlive beanName="courrierConsultationRecentBean" />
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />
										<h:outputText value="#{msg.labelError}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink22" />
										<rich:componentControl for="msgPanal22" attachTo="hidelink22"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/erreurrrrr.png"
													alt="confirm" /></td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.erreurTransfert}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													onclick="Richfaces.hideModalPanel('msgPanal22')"
													type="submit" ajaxSingle="true" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
						</rich:tab>
						<rich:tab name="CRannee"
							label="#{courrierConsultationRecentBean.year} (#{courrierConsultationAnneeDataModel.totalCount})">

							<h:form id="frmCourrierAnnee">
								<h:panelGrid columns="5"
									rendered="#{courrierConsultationRecentBean.userOption}">
									<h:selectOneRadio id="selectoneRadioIdAnnee"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierConsultationAnneeDataModel.typeCourrier}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationAnneeDataModel.permitionWalkVisit}"
											reRender="frmCourrierAnnee,data1,scroller1,record1,selectoneRadioId1Annee,panelGridId"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.accueiltoutLescourriersLabel}"
											itemValue="Tous" />
										<f:selectItem itemLabel="#{msg.acceuilcourriersRecuLabel}"
											itemValue="Recu" />
										<f:selectItem itemLabel="#{msg.acceuilcourriersenvoyÃ©sLabel}"
											itemValue="Envoyes" />
									</h:selectOneRadio>
									<rich:separator lineType="dashed" height="25px" width="3px" rendered ="#{not(variableGlobale.sonede)}"
										align="center" />
									<rich:spacer width="5" />
									<h:selectBooleanCheckbox id="selectoneRadioId1Annee" rendered ="#{not(variableGlobale.sonede)}"
										styleClass="xteDetailLabelOutput"
										style="margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierConsultationAnneeDataModel.checkedTypeCourrierValidation}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationAnneeDataModel.permitionWalkVisit}"
											reRender="frmCourrierAnnee,data1,scroller1,record1,selectoneRadioIdAnnee,panelGridId"
											ajaxSingle="true" />
										<a4j:keepAlive beanName="courrierConsultationAnneeDataModel" />
									</h:selectBooleanCheckbox>
									<h:outputText value="#{msg.acceuilcourriersDeValidationLbel}" rendered ="#{not(variableGlobale.sonede)}"
										styleClass="xteDetailLabelOutput" style="font-size:10px;" />
								</h:panelGrid>
								<h:panelGrid id="panelGridId"
									style="float:right; height:10px; margin-top:-20px; padding-right:1px;"
									rendered="#{courrierConsultationRecentBean.userOption}">
									<h:column>
										<h:panelGrid columns="6" style="margin-top:10px;"
											rendered="#{courrierConsultationRecentBean.moreChoices}">
											<h:column>
												<h:selectBooleanCheckbox
													value="#{courrierConsultationRecentBean.allMailChecked}"
													id="allMail">
													<a4j:support event="onchange"
														reRender="checkBox1,checkBox2,checkBox3,checkBox4"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:outputText value="#{msg.acceuilTousLabel}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox1"
													value="#{courrierConsultationRecentBean.toValidateMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid1"
													value="../framGraphique/images/oranger.png" alt="trans" />
												<h:outputText value="#{msg.aValiderLabel}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox2"
													value="#{courrierConsultationRecentBean.validatedMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid2"
													value="../framGraphique/images/vert.png" alt="trans" />
												<h:outputText value="#{msg.acceuilValidÃ©Label}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox3"
													value="#{courrierConsultationRecentBean.notValidatedMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid3"
													value="../framGraphique/images/rouge.png" alt="trans" />
												<h:outputText value="#{msg.acceuilNonValidÃ©Label}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<h:selectBooleanCheckbox id="checkBox4"
													value="#{courrierConsultationRecentBean.treatedMailChecked}">
													<a4j:support event="onchange" reRender="allMail"
														ajaxSingle="true" />
												</h:selectBooleanCheckbox>
												<h:graphicImage id="valid4"
													value="../framGraphique/images/bleu.png" alt="trans" />
												<h:outputText value="#{msg.acceuilTraitÃ©Label}"
													styleClass="xteDetailLabelOutput" />
											</h:column>
											<h:column>
												<rich:spacer width="10" />
												<a4j:commandLink
													reRender="panelGridId,data1,scroller1,record1"
													status="ajaxStatus1">
													<h:graphicImage
														value="../framGraphique/images/iconeVal.png" alt="details" />
												</a4j:commandLink>
											</h:column>
											<a4j:status id="ajaxStatus1" forceId="true"
												onstart="#{rich:component('waitPanel1')}.show('',{height:'85px', width:'250px'})"
												onstop="#{rich:component('waitPanel1')}.hide()" />
											<rich:modalPanel id="waitPanel1" style="text-align:center"
												autosized="true">
												<h:outputText value="#{msg.messageChargement}"
													style="font-weight:bold;font-size:large" />
													waitPanel1
												<div align="center">
													<h:graphicImage value="../framGraphique/images/timeOut.gif"
														alt="timeOut" />
												</div>
											</rich:modalPanel>
										</h:panelGrid>
									</h:column>
								</h:panelGrid>
								<h:panelGrid 
									rendered="#{courrierConsultationRecentBean.bocOption}">
									<h:selectOneRadio id="selectoneRadioIdBocAnnee" layout="lineDirection"  
											styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierConsultationAnneeDataModel.transmissionCourrier}"
										>
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationAnneeDataModel.permitionWalkVisit}"
											reRender="frmCourrierAnnee,data1,scroller1,record1"
											ajaxSingle="true" />
										<f:selectItems
											value="#{courrierConsultationRecentBean.selectItemsTr}" style="font-size:10px;" />
									</h:selectOneRadio>
								</h:panelGrid>
								<h:panelGrid columns="7"
									rendered="#{courrierConsultationRecentBean.bocOption}"
									style="float:left;">
									<h:selectOneRadio id="selectoneRadioIdBoc4Annee"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; direction:#{languageManager.direction};"
										value="#{courrierConsultationAnneeDataModel.categorieCourrier}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationAnneeDataModel.permitionWalkVisit}"
											reRender="frmCourrierAnnee,data1,scroller1,record1,commandLinkId,graphiqueImageId,selectoneRadioId1Annee,panelGridId"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.acceuilTousLabel}"
											itemValue="T" />
										<f:selectItem itemLabel="#{msg.acceuilarrivÃ©Label}"
											itemValue="A" />
										<f:selectItem itemLabel="#{msg.acceuildÃ©partLabel}"
											itemValue="D" />
									</h:selectOneRadio>
									<rich:separator lineType="dashed" height="25px" width="3px"
										align="center" />
									<h:selectOneRadio id="selectoneRadioId111Annee"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px; margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierConsultationAnneeDataModel.typeCourrierTraitement}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationAnneeDataModel.permitionWalkVisit}"
											reRender="frmCourrierAnnee,data1,scroller1,record1,commandLinkId,graphiqueImageId,selectoneRadioId1Annee,panelGridId"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.acceuilTousLabel}"
											itemValue="tous" />
										<f:selectItem itemLabel="#{msg.acceuilTraitÃ©Label}"
											itemValue="traite" />
										<f:selectItem itemLabel="#{msg.acceuilNonTraitÃ©Label}"
											itemValue="nonTraite" />
									</h:selectOneRadio>

								</h:panelGrid>
								<h:panelGrid id="commandLinkId" style="float:right;" columns="3"
									rendered="#{courrierConsultationRecentBean.bocOption and false}">
									<a4j:commandLink id="cl"
										action="#{courrierConsultationRecentBean.executeAllTransaction}"
										rendered="#{courrierConsultationRecentBean.showExecuteAllButton}"
										reRender="panelGridId,data1,scroller1,record1">
										<h:graphicImage
											value="../framGraphique/images/executeAllIcon.png"
											alt="details" />
									</a4j:commandLink>
									<h:graphicImage
										value="../framGraphique/images/executeAllDisabledIcon.png"
										alt="details"
										rendered="#{courrierConsultationRecentBean.hideExecuteAllButton}" />
									<rich:toolTip for="cl" value="#{msg.executeAll}" />
								</h:panelGrid>
								<rich:spacer width="100%" height="2" />
								<h:outputText value="#{courrierConsultationAnneeDataModel.courrierRubrique}"/>

								<h:panelGrid
									rendered="#{courrierConsultationRecentBean.vb.person.responsable and not(courrierConsultationJourBean.vb.person.boc)}">
									<h:selectOneRadio id="selectoneRadioRubriqueAnnee"
										styleClass="xteDetailLabelOutput"
										style="font-size:10px;margin-left:-7px; direction:#{languageManager.direction};"
										value="#{courrierConsultationAnneeDataModel.courrierRubrique}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{courrierConsultationAnneeDataModel.permitionWalkVisit}"
											reRender="frmCourrierAnnee,data1,scroller1,record1,selectoneRadioId1Annee,panelGridId"
											ajaxSingle="true" />
										<f:selectItem itemLabel="#{msg.accueiltoutLescourriersLabel}"
											itemValue="6" />
										<f:selectItem itemLabel="#{msg.mesCourriers}" itemValue="1" />
										<f:selectItem itemLabel="#{msg.courrierMonUnite}"
											itemValue="2" />
										<f:selectItem
											itemDisabled="#{courrierConsultationAnneeDataModel.courrierConsultation.consultationCourrierSubordonne ne 'Oui'}"
											itemLabel="#{msg.courrierMesSubordonne}" itemValue="3" />
										<f:selectItem
											itemDisabled="#{courrierConsultationAnneeDataModel.courrierConsultation.consultationCourrierSecretaire ne 'Oui'}"
											itemLabel="#{msg.courrierMaSecretaire}" itemValue="4" />
										<f:selectItem
											itemDisabled="#{courrierConsultationAnneeDataModel.courrierConsultation.consultationCourrierSousUnite ne 'Oui'}"
											itemLabel="#{msg.courrierMesSousUnite}" itemValue="5" />
									</h:selectOneRadio>
								</h:panelGrid>

								<rich:extendedDataTable value="#{courrierConsultationAnneeDataModel}"
									enableContextMenu="false" var="cr" id="data1" rows="10"
									noDataLabel="#{msg.acceuilPasDecourriersLabel}"
									style="width=:730px; margin-left:-10px; margin-right:-10px;"
									onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
									onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
									height="450">
									<f:facet name="header">
										<h:outputText value="#{msg.listCourriers}" />
									</f:facet>
									<rich:column label="#{msg.Reference}" width="13%">
										<f:facet name="header">
											<h:outputText value="#{msg.Reference}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierDestinataireReelleDirection}" styleClass="#{cr.style}"/>
									</rich:column>
									<rich:column label="#{msg.ColonneObjet}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneObjet}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierObjet}" styleClass="#{cr.style}" />
									</rich:column>
									<rich:column label="#{msg.ColonneNature}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneNature}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierNature}" styleClass="#{cr.style}"/>
									</rich:column>
										<rich:column label="#{msg.ColonneMode}" width="14%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneMode}" style="white-space: initial !important;"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.transmission.transmissionLibelle}" styleClass="#{cr.style}"/>
									</rich:column>
									<rich:column label="#{msg.dateReception}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.dateReception}" style="white-space: initial !important;"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierDateReceptionEnvoi}" styleClass="#{cr.style}" />
									</rich:column>
									<rich:column label="#{msg.expediteur}" width="14%">
										<f:facet name="header">
											<h:outputText value="#{msg.expediteurReelListeCourrier}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierExpediteur}" styleClass="#{cr.style}" />
									</rich:column>
									<rich:column label="#{msg.destReelle}" width="16%">
										<f:facet name="header">
											<h:outputText value="#{msg.destReelle}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<h:outputText value="#{cr.courrierDestinataireReelle}" styleClass="#{cr.style}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneOperation}"
												onmousemove="event.cancelBubble = true;return false;"
												onmousedown="event.cancelBubble = true;return false;" />
										</f:facet>
										<div align="center">
											<h:panelGrid columns="6" style="margin-left:-4px;"
												rendered="#{courrierConsultationRecentBean.userOption}">
												<h:column>
													<a4j:commandLink id="consult1"
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														ajaxSingle="true"
														oncomplete="document.location.href='courrierConsulterDetails.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}"
															value="../framGraphique/images/ConsulterLu.png" />
														<h:graphicImage
															rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}"
															value="../framGraphique/images/ConsulterNonLu.png" />
													</a4j:commandLink>
													<rich:toolTip for="consult1" value="#{msg.ReConsult}"
														rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}" />
													<rich:toolTip for="consult1" value="#{msg.Consult}"
														rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}" />
												</h:column>
												<h:column>
													<a4j:commandLink id="aValider1"
														rendered="#{cr.courrierAValider eq 1 and not(variableGlobale.sonede)}" ajaxSingle="true"
														action="#{courrierConsultationRecentBean.getSelectionRowForValidate}"
														oncomplete="document.location.href='courrierValidation.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/courrierAValider.png"
															alt="aValider1" />
													</a4j:commandLink>
													<rich:toolTip for="aValider1" value="#{msg.aValider}" />

													<h:graphicImage rendered="#{variableGlobale.rendered and not(variableGlobale.sonede)}"
														value="../framGraphique/images/courrierAValiderDisabled.png"
														alt="aValiderDisabled1" />
<!--														rendered="#{cr.courrierAValider eq 0}"-->
												</h:column>
												<h:column >
												<a4j:commandLink id="receptionPhysiqueStructu" action="#{courrierConsultationRecentBean.getSelectionRow}"  ajaxSingle="true"
									      	                 oncomplete="#{rich:component('confirmationClassementRecent')}.show();" reRender="confirmationClassementRecent" >
									                 	<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage rendered="#{cr.courrierAvecDocumentPhysique}" style="width:20px !important"
															value="../framGraphique/images/courrierPhySmall.png"
															alt="receptionPhysiqueStructu" />
												</a4j:commandLink>
												<rich:toolTip for="receptionPhysiqueStructu" value="#{msg.modifReceptionPhysique}" />
													
													</h:column>
												<h:column>
													<a4j:commandLink id="reponse1"
														rendered="#{cr.courrierRecu eq 1 and courrierConsultationAnneeDataModel.courrierRubrique ne 5}" ajaxSingle="true"
														action="#{courrierConsultationRecentBean.repondre}"
														oncomplete="document.location.href='courrierRepondre.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/RepondreIconSmall.png"
															alt="reponse1" />
													</a4j:commandLink>
													<rich:toolTip for="reponse1" value="#{msg.Reponse}" />

													<h:graphicImage 
														rendered="#{variableGlobale.rendered and cr.courrierRecu eq 0}"
														value="../framGraphique/images/RepondreIconSmallDisab.png"
														alt="reponseDisabled1" />
<!--														rendered="#{cr.courrierRecu eq 0}"-->
												</h:column>
												<h:column>
													<a4j:commandLink id="trans1" ajaxSingle="true" rendered="#{courrierConsultationAnneeDataModel.courrierRubrique ne 5}"
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														oncomplete="document.location.href='courrierTransfere.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
														rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/TransfereIconSmall.png"
															alt="trans1" />
													</a4j:commandLink>
													<rich:toolTip for="trans1" value="#{msg.Trans}" />
												</h:column>
											
												<h:column rendered="#{cr.forValidating}">
													<h:graphicImage id="valide" rendered="#{cr.etatID eq 4}"
														value="../framGraphique/images/vert.png" alt="trans" />
													<rich:toolTip for="valide" value="#{msg.courrierValide}" />
													<h:graphicImage id="nonValide" rendered="#{cr.etatID eq 3}"
														value="../framGraphique/images/rouge.png" alt="trans" />
													<rich:toolTip for="nonValide"
														value="#{msg.courrierNonValide}" />
													<h:graphicImage id="attenteTraitement"
														rendered="#{cr.treated}"
														value="../framGraphique/images/bleu.png" alt="trans" />
													<rich:toolTip for="attenteTraitement"
														value="#{msg.courrierTraite}" />
													<h:graphicImage id="traite" rendered="#{cr.untreated}"
														value="../framGraphique/images/gris.png" alt="trans" />
													<rich:toolTip for="traite" value="#{msg.courrierATraiter}" />
													<h:graphicImage id="attenteValidation"
														rendered="#{cr.etatID eq 2}"
														value="../framGraphique/images/oranger.png" alt="trans" />
													<rich:toolTip for="attenteValidation"
														value="#{msg.courrierAValide}" />
												</h:column>
											</h:panelGrid>

											<h:panelGrid columns="6"
												rendered="#{courrierConsultationRecentBean.bocOption}"
												style="margin-left:6px;">
												<h:column>
													<a4j:commandLink id="consultBoc"
													disabled="#{cr.disbledBontonConsultation}"
														rendered="#{(cr.transactionDateConsultation ne null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation ne null and cr.courrierRecu eq 1)}"
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														ajaxSingle="true"
														oncomplete="document.location.href='courrierConsulterDetails.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/ConsulterLu.png"
															alt="Consulter" />
													</a4j:commandLink>
													<rich:toolTip for="consultBoc" value="#{msg.ReConsult}" />
													<a4j:commandLink id="consultBoc1"
													disabled="#{cr.disbledBontonConsultation}"
														rendered="#{(cr.transactionDateConsultation eq null and cr.courrierRecu ne 1) or (cr.transactionDestination.transactionDestDateConsultation eq null and cr.courrierRecu eq 1)}"
														action="#{courrierConsultationRecentBean.getSelectionRow}"
														ajaxSingle="true"
														oncomplete="document.location.href='courrierConsulterDetails.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/ConsulterNonLu.png"
															alt="Consulter" />
													</a4j:commandLink>
													<rich:toolTip for="consultBoc1" value="#{msg.Consult}" />
												</h:column>
											
												<h:column >
													<a4j:commandLink id="receptionPhysique" action="#{courrierConsultationRecentBean.getSelectionRow}"  ajaxSingle="true"
									                oncomplete="#{rich:component('confirmationClassementRecent')}.show();" reRender="confirmationClassementRecent" >
									                 <f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage rendered="#{cr.courrierAvecDocumentPhysique}" style="width:20px !important"
															value="../framGraphique/images/courrierPhySmall.png"
															alt="receptionPhysique" />
												</a4j:commandLink>
												<rich:toolTip for="receptionPhysique" value="#{msg.modifReceptionPhysique}" />
												
												</h:column>
												<a4j:commandLink id="modifModeTr" action="#{courrierConsultationRecentBean.getSelectionRowModifModeTransmission}" ajaxSingle="true"
									                 oncomplete="#{rich:component('updateModeTrRecent')}.show();" reRender="updateModeTrRecent">
									                 	<f:setPropertyActionListener value="#{cr}"
																target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
															<h:graphicImage  style="width:20px !important" rendered="#{cr.showModificationButton}"
															value="../framGraphique/images/toolBar/editModeTransmission.png"
															alt="modifModeTr" />
													</a4j:commandLink>
										<rich:toolTip for="modifModeTr" value="#{msg.modifModTr}" />
												<h:column>
													<a4j:commandLink id="aValiderBoc"
														rendered="#{cr.courrierAValider eq 1}" ajaxSingle="true"
														action="#{courrierConsultationRecentBean.execute}"
														oncomplete="if(#{courrierConsultationRecentBean.status1}==true)
																		#{rich:component('msgPanal111')}.show();
																		if(#{courrierConsultationRecentBean.receptionphysiqueNonLivre}==true)
																			#{rich:component('msgPanalReceptionPhysique')}.show();
																	if(#{courrierConsultationRecentBean.status2}==true)
																		#{rich:component('msgPanal222')}.show();
																		if(#{courrierConsultationRecentBean.existeBOSansMembres}==true)
																			#{rich:component('msgPanalExisteBOSansMembres')}.show();"
														reRender="msgPanal111,msgPanal222,msgPanalExisteBOSansMembres">
														<f:setPropertyActionListener value="#{cr}"
															target="#{courrierConsultationRecentBean.selectedCourrier}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/executeIcon.png"
															alt="aValider1" />
													</a4j:commandLink>
													<rich:toolTip for="aValiderBoc" value="#{msg.aExecuter}" />
													<h:graphicImage rendered="#{cr.courrierAValider eq 0}"
														value="../framGraphique/images/executeIconGrised.png"
														alt="aValiderDisabled1" style=" width : 16px;" />
												</h:column>
											</h:panelGrid>
										</div>
									</rich:column>
									<rich:column label="Courriers" id="type1"
										filterBy="#{cr.typeCourrier}" filterEvent="onkeyup"
										sortBy="#{cr.typeCourrier}" visible="false">
										<h:outputText value="#{cr.typeCourrier}"
											styleClass="xteDetailLabel" />
									</rich:column>
								</rich:extendedDataTable>

								<div align="center">
									<rich:datascroller stepControls="hide" for="data1"
										id="scroller1" page="#{courrierConsultationAnneeDataModel.firstPage}"
										actionListener="#{courrierConsultationAnneeDataModel.permitionWalkScroller}" />
									<h:outputText
										value="#{msg.nbEnregistrement}  #{courrierConsultationAnneeDataModel.rowCount}"
										styleClass="xteNombreEnregistrementLabelOutput" />

								</div>
							</h:form>
							<rich:spacer width="100%" height="8" />

							<rich:modalPanel id="msgPanal111" autosized="true" height="100"
								width="400">
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />

										<h:outputText value="#{msg.labelInfo}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink111" />
										<rich:componentControl for="msgPanal111" attachTo="hidelink111"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<a4j:keepAlive beanName="courrierConsultationRecentBean" />
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/interrogation.png"
													alt="confirm" />
											</td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.CourrierTransferMsg}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													onclick="Richfaces.hideModalPanel('msgPanal111');document.location.href='accueil.jsf'"
													reRender="frmCourrierAnnee,data1,scroller1,record1"
													type="submit" ajaxSingle="true" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
							<!-- js -->
							
								<rich:modalPanel id="msgPanalErreurInsertion" autosized="true"
										height="90" width="300">
										<a4j:keepAlive beanName="courrierConsultationRecentBean" />
										<f:facet name="header">
											<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
												<rich:spacer width="2" />
												<h:outputText value="#{msg.labelError}"
													styleClass="xtePopupInformationTextHeader" />
											</h:panelGrid>
										</f:facet>
										<f:facet name="controls">
											<h:panelGroup>
												<h:graphicImage value="../framGraphique/images/close.png"
													width="15" height="15" id="hidelink4" />
												<rich:componentControl for="msgPanalErreurInsertion"
													attachTo="hidelink4" operation="hide" event="onclick" />
											</h:panelGroup>
										</f:facet>
										<h:form>
											<table align="center">
												<tr>
													<td align="left"><h:graphicImage
															value="../framGraphique/images/erreurrrrr.png"
															alt="confirm" /></td>
													<td align="center" colspan="2"><h:outputText
															styleClass="xtePopupInformationText"
															value="erreur" /></td>
												</tr>
											</table>
											<table align="center">
												<tr>
													<td align="center"><a4j:commandButton
															value="#{msg.bouttonOk}"
															oncomplete="Richfaces.hideModalPanel('msgPanalErreurInsertion');"
															type="submit" ajaxSingle="true" styleClass="submitButton" />
													</td>
												</tr>
											</table>
										</h:form>
									</rich:modalPanel>
							
							
							
							
							<!--  -->
							<rich:modalPanel id="msgPanal222" autosized="true" height="100"
								width="400">
								<a4j:keepAlive beanName="courrierConsultationRecentBean" />
								<f:facet name="header">
									<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
										<rich:spacer width="2" />
										<h:outputText value="#{msg.labelError}"
											styleClass="popupInformationTextHeader" />
									</h:panelGrid>
								</f:facet>
								<f:facet name="controls">
									<h:panelGroup>
										<h:graphicImage value="../framGraphique/images/close.png"
											width="15" height="15" id="hidelink222" />
										<rich:componentControl for="msgPanal222" attachTo="hidelink222"
											operation="hide" event="onclick" />
									</h:panelGroup>
								</f:facet>
								<h:form>
									<table align="center">
										<tr>
											<td align="left"><h:graphicImage
													value="../framGraphique/images/erreurrrrr.png"
													alt="confirm" /></td>
											<td align="center" colspan="2"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.erreurTransfert}" />
											</td>
										</tr>
									</table>
									<table align="center">
										<tr>
											<td align="center"><a4j:commandButton
													value="#{msg.bouttonOk}"
													onclick="Richfaces.hideModalPanel('msgPanal222')"
													type="submit" ajaxSingle="true" styleClass="submitButton" />
											</td>
										</tr>
									</table>
								</h:form>
							</rich:modalPanel>
						</rich:tab>
						<rich:tab name="DSjour" 
							label="#{msg.MsgAujourdhuiDossier} (#{dossierJourDataModel.totalCount})"
							rendered="#{courrierConsultationRecentBean.showTab and false}">
							<h:form>

								<h:panelGrid columns="3">
									<h:column>
										<h:selectOneRadio
											value="#{dossierJourDataModel.typeDossierJour}"
											styleClass="xteDetailLabelOutput" layout="lineDirection">
											<a4j:support event="onchange"
												actionListener="#{dossierJourDataModel.permitionWalkVisit}"
												reRender="dataDossier,scrollerDossier,recordDossier"
												ajaxSingle="true" status="ajaxStatusWaitDossierJour" />
											<f:selectItem itemLabel="#{msg.acceuilToutLesdossiersLabel}"
												itemValue="Tous" />
											<f:selectItem itemLabel="#{msg.acceuilDossiersRecuLabel}"
												itemValue="Recu" />
											<f:selectItem itemLabel="#{msg.acceuilDossierEnvoyÃ©Label}"
												itemValue="Envoyes" />
										</h:selectOneRadio>
									</h:column>
								</h:panelGrid>
								<h:panelGrid
									rendered="#{dossierJourConsultationBean.vb.person.responsable}">
									<h:selectOneRadio id="selectoneRadioRubriqueAnnee"
										styleClass="xteDetailLabelOutput"
										style="margin-left:-7px; direction:#{languageManager.direction};"
										value="#{dossierJourDataModel.dossierRubriqueJour}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{dossierJourDataModel.permitionWalkVisit}"
											reRender="dataDossier,scrollerDossier,recordDossier"
											ajaxSingle="true" status="ajaxStatusWaitDossierJour" />
										<f:selectItem itemLabel="#{msg.mesDossiers}" itemValue="1" />
										<f:selectItem itemLabel="#{msg.dossierMonUnite}" itemValue="2" />
										<f:selectItem
											itemDisabled="#{dossierJourDataModel.dossierJourBean.consultationCourrierSubordonne ne 'Oui'}"
											itemLabel="#{msg.dossierMesSubordonne}" itemValue="3" />
										<f:selectItem
											itemDisabled="#{dossierJourDataModel.dossierJourBean.consultationCourrierSecretaire ne 'Oui'}"
											itemLabel="#{msg.dossierMaSecretaire}" itemValue="4" />
										<f:selectItem
											itemDisabled="#{dossierJourDataModel.dossierJourBean.consultationCourrierSousUnite ne 'Oui'}"
											itemLabel="#{msg.dossierMesSousUnite}" itemValue="5" />
									</h:selectOneRadio>
								</h:panelGrid>
								<rich:spacer width="100%" height="10" />
								<rich:extendedDataTable noDataLabel="#{msg.PasDeDossier}"
									value="#{dossierJourDataModel}" var="cr" id="dataDossier"
									rows="10" style="margin-left:-10px; margin-right:-10px;"
									onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
									onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
									height="400">
									<f:facet name="header">
										<h:outputText value="#{msg.listDossiersJour}" />
									</f:facet>
									<rich:column label="#{msg.Reference}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.Reference}" />
										</f:facet>
										<h:outputText value="#{cr.courrierDestinataireReelleDirection}" />
									</rich:column>
									<rich:column label="#{msg.ColonneIntitule}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneIntitule}" />
										</f:facet>
										<h:outputText value="#{cr.courrierObjet}" />
									</rich:column>
									<rich:column label="#{msg.ColonneDes}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.comment}" />
										</f:facet>
										<h:outputText value="#{cr.courrierCommentaire}" />
									</rich:column>
									<rich:column label="#{msg.dateReception}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.dateReception}" />
										</f:facet>
										<h:outputText value="#{cr.courrierDateReceptionEnvoi}" />
									</rich:column>
									<rich:column sortBy="#{cr.courrierExpediteur}"
										label="#{msg.expediteur}" width="14%">
										<f:facet name="header">
											<h:outputText value="#{msg.expediteur}" />
										</f:facet>
										<h:outputText value="#{cr.courrierExpediteur}" />
									</rich:column>
									<rich:column label="#{msg.destReelle}" width="14%" sortOrder="DESCENDING">
										<f:facet name="header">
											<h:outputText value="#{msg.destReelle}" />
										</f:facet>
										<h:outputText value="#{cr.courrierDestinataireReelle}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneOperation}" />
										</f:facet>
										<div align="center">
											<h:panelGrid columns="4">
												<h:column>
													<a4j:commandLink id="consultJP" ajaxSingle="true"
														status="ajaxStatusWaitDossierJour"
														action="#{dossierJourConsultationBean.getSelectionRowDossierJour}"
														oncomplete="document.location.href='dossierCourrierAffecter.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierJourConsultationBean.selectedDossierJour}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/icone-detail.png"
															alt="Consulter" />
													</a4j:commandLink>
													<rich:toolTip for="consultJP" value="#{msg.Consult}"
														styleClass="tooltip-item"
														style="direction:#{languageManager.direction};" />
												</h:column>
												<h:column>
													<a4j:commandLink id="transJP" rendered="#{cr.notShared}"
														ajaxSingle="true"
														action="#{dossierJourConsultationBean.getSelectionRowDossierForSharedJour}"
														oncomplete="document.location.href='dossierPartage.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierJourConsultationBean.selectedDossierJour}"></f:setPropertyActionListener>

														<h:graphicImage
															value="../framGraphique/images/dossierPartagerPI.png"
															alt="transJ" />
													</a4j:commandLink>
													<rich:toolTip for="transJP" value="#{msg.partage}" />
													<a4j:commandLink id="transJP1" rendered="#{cr.shared}"
														ajaxSingle="true"
														action="#{dossierJourConsultationBean.getSelectionRowDossierForDetailsSharedJour}"
														oncomplete="document.location.href='dossierConsulterDetailsPartage.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierJourConsultationBean.selectedDossierJour}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/dossierDetailPartagePI.png"
															alt="transJ" />
													</a4j:commandLink>
													<rich:toolTip for="transJP1" value="#{msg.partage}" />
												</h:column>
												<h:column>
													<a4j:commandLink id="reponseJ"
														rendered="#{cr.courrierRecu eq 1}" ajaxSingle="true"
														action="#{dossierJourConsultationBean.getSelectionRowJourDossierForResponse}"
														oncomplete="document.location.href='dossierTransfere.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierJourConsultationBean.selectedDossierJour}"></f:setPropertyActionListener>
														<h:graphicImage
															rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/TransfereIconDataTable.png"
															alt="reponseJ" />
													</a4j:commandLink>
													<rich:toolTip for="reponseJ" value="#{msg.Reponse}" />

													<h:graphicImage 
														rendered="#{variableGlobale.rendered}"
														value="../framGraphique/images/TransfereIconDataTableDisabled.png"
														alt="reponseDisabledJ" />
<!--														rendered="#{cr.courrierRecu eq 0}"-->
												</h:column>
												<h:column>
													<a4j:commandLink id="transD1" ajaxSingle="true"
														action="#{dossierJourConsultationBean.getSelectionRowDossierJour}"
														oncomplete="document.location.href='dossierTransfere.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierJourConsultationBean.selectedDossierJour}"></f:setPropertyActionListener>
														<h:graphicImage
															rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/RepondreIconDataTable.png"
															alt="trans1" />
													</a4j:commandLink>
													<rich:toolTip for="transD1" value="#{msg.Trans}" />
													<a4j:commandLink id="reponseDisabledJ11" rendered="#{variableGlobale.rendered}">
														<h:graphicImage
															value="../framGraphique/images/TransfereIconDataTableDisabled.png"
															alt="reponseDisabledJ" />
													</a4j:commandLink>
												</h:column>

											</h:panelGrid>
										</div>
									</rich:column>
									<rich:column label="#{msg.acceuilDossiersLabel}" id="jobJ"
										visible="false" filterBy="#{cr.typeCourrier}"
										filterEvent="onkeyup" sortBy="#{cr.typeCourrier}">
										<h:outputText value="#{cr.typeCourrier}"
											styleClass="xteDetailLabel" />
									</rich:column>
								</rich:extendedDataTable>
								<div align="center">
									<rich:datascroller stepControls="hide" for="dataDossier"
										page="#{dossierJourDataModel.firstPage}"
										id="scrollerDossier" />
									<h:outputText value="#{msg.nbEnregistrement}"
										styleClass="xteNombreEnregistrementLabelOutput" />
									<h:outputText id="recordDossier"
										value="#{dossierJourDataModel.rowCount}"
										styleClass="xteNombreEnregistrementLabelOutput" />
								</div>

								<rich:spacer width="100%" height="8" />
							</h:form>
							<!-- popoup wait -->
							<a4j:status id="ajaxStatusWaitDossierJour" forceId="true"
								onstart="#{rich:component('waitPanelDossierJour')}.show('',{height:'85px', width:'250px'})"
								onstop="#{rich:component('waitPanelDossierJour')}.hide()" />
							<rich:modalPanel id="waitPanelDossierJour"
								style="text-align:center">
								<h:outputText value="#{msg.messageAttente}"
									style="font-weight:bold;font-size:large" />
								<div align="center">
									<h:graphicImage value="../framGraphique/images/timeOut.gif"
										alt="timeOut" />
								</div>
							</rich:modalPanel>
						</rich:tab>
						<rich:tab name="DSancien" 
							label="#{msg.MsgDernierDossier} (#{dossierAnneeDataModel.totalCount})"
							rendered="#{courrierConsultationRecentBean.showTab and false}">
							<h:form>

									<h:panelGrid columns="2">
									<h:column>
										<h:selectOneRadio id="checkRoleDossier1"
											value="#{dossierAncienDataModel.typeDossier}"
											styleClass="xteDetailLabelOutput" layout="lineDirection">
											<a4j:support event="onchange"
												actionListener="#{dossierAncienDataModel.permitionWalkVisit}"
												reRender="dataDossier1,scrollerDossier1,recordDossier1"
												ajaxSingle="true" status="ajaxStatusWait" />
											<f:selectItem itemLabel="#{msg.acceuilToutLesdossiersLabel}"
												itemValue="Tous" />
											<f:selectItem itemLabel="#{msg.acceuilDossiersRecuLabel}"
												itemValue="Recu" />
											<f:selectItem itemLabel="#{msg.acceuilDossierEnvoyÃ©Label}"
												itemValue="Envoyes" />
										</h:selectOneRadio>
									</h:column>
								</h:panelGrid>
								<h:panelGrid
									rendered="#{dossierAnneeConsultationBean.vb.person.responsable}">
									<h:selectOneRadio id="selectoneRadioRubriqueAnnee"
										styleClass="xteDetailLabelOutput"
										style="margin-left:-7px; direction:#{languageManager.direction};"
										value="#{dossierAnneeDataModel.dossierRubrique}"
										layout="lineDirection">
										<a4j:support event="onchange"
											actionListener="#{dossierAnneeDataModel.permitionWalkVisit}"
											reRender="dataDossier1,scrollerDossier1,recordDossier1"
											ajaxSingle="true" status="ajaxStatusWait" />
										<f:selectItem itemLabel="#{msg.mesDossiers}" itemValue="1" />
										<f:selectItem itemLabel="#{msg.dossierMonUnite}" itemValue="2" />
										<f:selectItem
											itemDisabled="#{dossierAnneeDataModel.dossierAnneeBean.consultationCourrierSubordonne ne 'Oui'}"
											itemLabel="#{msg.dossierMesSubordonne}" itemValue="3" />
										<f:selectItem
											itemDisabled="#{dossierAnneeDataModel.dossierAnneeBean.consultationCourrierSecretaire ne 'Oui'}"
											itemLabel="#{msg.dossierMaSecretaire}" itemValue="4" />
										<f:selectItem
											itemDisabled="#{dossierAnneeDataModel.dossierAnneeBean.consultationCourrierSousUnite ne 'Oui'}"
											itemLabel="#{msg.dossierMesSousUnite}" itemValue="5" />
									</h:selectOneRadio>





								</h:panelGrid>
								<rich:spacer width="100%" height="10" />
								<rich:extendedDataTable noDataLabel="#{msg.PasDeDossier}"
									value="#{dossierAnneeDataModel}" var="cr" id="dataDossier1"
									rows="10"
									style="width=:730px; margin-left:-10px; margin-right:-10px;"
									onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
									onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
									height="400">
									<f:facet name="header">
										<h:outputText value="#{msg.listDossiers}" />
									</f:facet>
									<rich:column label="#{msg.Reference}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.Reference}" />
										</f:facet>
										<h:outputText value="#{cr.courrierDestinataireReelleDirection}" />
									</rich:column>
									<rich:column label="#{msg.ColonneIntitule}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneIntitule}" />
										</f:facet>
										<h:outputText value="#{cr.courrierObjet}" />
									</rich:column>
									<rich:column label="#{msg.ColonneDes}" width="17%">
										<f:facet name="header">
											<h:outputText value="#{msg.comment}" />
										</f:facet>
										<h:outputText value="#{cr.courrierCommentaire}" />
									</rich:column>
									<rich:column label="#{msg.dateReception}"
										sortBy="#{cr.courrierDateReceptionEnvoi}" width="12%">
										<f:facet name="header">
											<h:outputText value="#{msg.dateReception}" />
										</f:facet>
										<h:outputText value="#{cr.courrierDateReceptionEnvoi}" />
									</rich:column>
									<rich:column label="#{msg.expediteur}" width="17%">
										<f:facet name="header">
											<h:outputText value="#{msg.expediteur}" />






										</f:facet>
										<h:outputText value="#{cr.courrierExpediteur}" />
									</rich:column>
									<rich:column label="#{msg.destReelle}" width="16%" sortOrder="DESCENDING">
										<f:facet name="header">
											<h:outputText value="#{msg.destReelle}" />
										</f:facet>
										<h:outputText value="#{cr.courrierDestinataireReelle}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg.ColonneOperation}" />
										</f:facet>
										<div align="center">
											<h:panelGrid columns="4">
												<h:column>
													<a4j:commandLink id="consultJP1" ajaxSingle="true"
														status="ajaxStatusWait"
														action="#{dossierAnneeConsultationBean.getSelectionRowDossier}"
														oncomplete="document.location.href='dossierCourrierAffecter.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierAnneeConsultationBean.selectedDossier}"></f:setPropertyActionListener>
														<h:graphicImage





															value="../framGraphique/images/icone-detail.png"
															alt="Consulter" />
													</a4j:commandLink>
													<rich:toolTip for="consultJP1" value="#{msg.Consult}" />
												</h:column>
												<h:column>
													<a4j:commandLink id="transJP11" rendered="#{cr.notShared}"
														ajaxSingle="true"
														action="#{dossierAnneeConsultationBean.getSelectionRowDossierForShared}"
														oncomplete="document.location.href='dossierPartage.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierAnneeConsultationBean.selectedDossier}"></f:setPropertyActionListener>

														<h:graphicImage
															value="../framGraphique/images/dossierPartagerPI.png"
															alt="transJ" />
													</a4j:commandLink>
													<rich:toolTip for="transJP11" value="#{msg.partage}" />
													<a4j:commandLink id="transJP2" rendered="#{cr.shared}"
														ajaxSingle="true"
														action="#{dossierAnneeConsultationBean.getSelectionRowDossierForDetailsShared}"
														oncomplete="document.location.href='dossierConsulterDetailsPartage.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierAnneeConsultationBean.selectedDossier}"></f:setPropertyActionListener>
														<h:graphicImage
															value="../framGraphique/images/dossierDetailPartagePI.png"
															alt="transJ" />
													</a4j:commandLink>
													<rich:toolTip for="transJP2" value="#{msg.partage}" />
												</h:column>
												<h:column>
													<a4j:commandLink id="reponseJ1"
														rendered="#{cr.courrierRecu eq 1}" ajaxSingle="true"
														action="#{dossierAnneeConsultationBean.getSelectionRowDossierForResponse}"
														oncomplete="document.location.href='dossierTransfere.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierAnneeConsultationBean.selectedDossier}"></f:setPropertyActionListener>
														<h:graphicImage rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/TransfereIconDataTable.png"
															alt="reponseJ" />
													</a4j:commandLink>
													<rich:toolTip for="reponseJ1" value="#{msg.Reponse}" />

													<h:graphicImage rendered="#{variableGlobale.rendered}"
														value="../framGraphique/images/TransfereIconDataTableDisabled.png"
														alt="reponseDisabledJ" />
<!--														rendered="#{cr.courrierRecu eq 0}"-->
												</h:column>
												<h:column>
													<a4j:commandLink id="transD12" ajaxSingle="true"
														action="#{dossierAnneeConsultationBean.getSelectionRowDossier}"
														oncomplete="document.location.href='dossierTransfere.jsf'">
														<f:setPropertyActionListener value="#{cr}"
															target="#{dossierAnneeConsultationBean.selectedDossier}"></f:setPropertyActionListener>
														<h:graphicImage rendered="#{variableGlobale.rendered}"
															value="../framGraphique/images/RepondreIconDataTable.png"
															alt="trans1" />
													</a4j:commandLink>
													<rich:toolTip for="transD12" value="#{msg.Trans}" />
													<a4j:commandLink id="reponseDisabledJ2" rendered="#{variableGlobale.rendered}">
														<h:graphicImage
															value="../framGraphique/images/TransfereIconDataTableDisabled.png"
															alt="reponseDisabledJ" />
													</a4j:commandLink>
												</h:column>

											</h:panelGrid>
										</div>
									</rich:column>
									<rich:column label="Dossiers" id="typeDossier1" visible="false"
										filterBy="#{cr.typeCourrier}" filterEvent="onkeyup"
										sortBy="#{cr.typeCourrier}">
										<h:outputText value="#{cr.typeCourrier}"
											styleClass="xteDetailLabel" />
									</rich:column>
								</rich:extendedDataTable>
								<div align="center">
									<rich:datascroller stepControls="hide" for="dataDossier1"
										page="#{dossierAnneeDataModel.firstPage}"
										id="scrollerDossier1" />
									<h:outputText value="#{msg.nbEnregistrement}"
										styleClass="xteNombreEnregistrementLabelOutput" />
									<h:outputText id="recordDossier1"
										value="#{dossierAnneeDataModel.rowCount}"
										styleClass="xteNombreEnregistrementLabelOutput" />

								</div>

								<rich:spacer width="100%" height="8" />
							</h:form>

						</rich:tab>
					</rich:tabPanel>
					<!-- popoup wait -->
					<a4j:status id="ajaxStatusWait" forceId="true"
						onstart="#{rich:component('waitPanel')}.show('',{height:'85px', width:'250px'})"
						onstop="#{rich:component('waitPanel')}.hide()" />
					<rich:modalPanel id="waitPanel" style="text-align:center">
						<h:outputText value="#{msg.messageAttente}"
							style="font-weight:bold;font-size:large" />
							
						<div align="center">
							<h:graphicImage value="../framGraphique/images/timeOut.gif"
								alt="timeOut" />
						</div>
					</rich:modalPanel>
					<!-- ********************AIDE********************** -->
					<rich:modalPanel id="aidePanal" autosized="true" height="500"
						width="800">
						<f:facet name="header">
							<h:panelGrid columns="3" cellpadding="0" cellspacing="0">

								<h:graphicImage value="../framGraphique/images/help_16.png"
									id="help" />
								<h:outputText
									value="#{msg.acceuilAideLabel} : Interface #{aideEnLigneBean.titreInterface}"
									styleClass="xtePopupInformationTextHeader" />
							</h:panelGrid>
						</f:facet>
						<f:facet name="controls">
							<h:panelGroup>
								<h:graphicImage value="../framGraphique/images/close.png"
									width="15" height="15" id="aidehidelink" />
								<rich:componentControl for="aidePanal" attachTo="aidehidelink"
									operation="hide" event="onclick" />
							</h:panelGroup>
						</f:facet>
						<div class="scroll_div">
							<h:form>
								<a4j:keepAlive beanName="aideEnLigneBean" />
								<h:graphicImage rendered="#{variableGlobale.locale eq 'fr_FR'}"
									value="../framGraphique/images/AideEnLigne/GBO-List-Courrier-FR.png"
									width="790" height="700" id="aidehidelink" />
								<h:graphicImage rendered="#{variableGlobale.locale eq 'ar'}"
									value="../framGraphique/images/AideEnLigne/GBO-List-Courriers-AR.png"
									width="750" height="490" id="aidehidelinkAR" />
								<rich:spacer height="10" />
								<table align="center">
									<tr>
										<td align="center"><a4j:commandButton
												value="#{msg.bouttonOk}"
												oncomplete="Richfaces.hideModalPanel('aidePanal');"
												type="submit" ajaxSingle="true" styleClass="submitButton" />
										</td>
									</tr>
								</table>

							</h:form>
						</div>
					</rich:modalPanel>
					
					<rich:modalPanel id="confirmationClassement" autosized="true"
						height="120" width="500" styleClass="rich-panel">
						<f:facet name="header">							
								<h:outputText value="#{msg.receptionPhysique}"
									styleClass="xtePopupInformationTextHeader" />						
						</f:facet>						 
							<rich:messages ajaxRendered="true" errorClass="msgError"
								styleClass="error" />
							<rich:spacer height="5px" />
							<h:form>
								<table width="100%">

									<tr><td width="100%" valign="top">
							<h:panelGrid columns="1"  id="dR" >
							
								<h:column>
									<h:outputText value="#{msg.dateReceptionLabel} :"
										styleClass="xteDetailLabelPopup"/>
										 <h:outputText value="*" styleClass="error" />
										 <rich:spacer width="15px"/>
									<rich:calendar id="dateRecp"  
													value="#{courrierConsultationJourBean.dateReceptionPhysique}"
													datePattern="dd/MM/yyyy" required="true"
													requiredMessage="* #{msg.CourrierDateRecep} #{msg.champsobligatoire}"
													locale="#{calendarBean.locale}"
													monthLabels="#{calendarBean.listMois}">
													<a4j:support  event="onchanged" reRender="dateRecp" />
									</rich:calendar>
								</h:column>
								</h:panelGrid>
								</td>
								
								</tr>
								<tr>
								
								<td  valign="top">
								<h:panelGrid columns="2" styleClass="xtePanelGrid" >
								<h:column>
									<h:outputText 
										value="#{msg.commentaireReceptionLabel}   :" styleClass="xteDetailLabelPopup" />
								</h:column>
									<h:inputTextarea id="desc" styleClass="textarea"  style=" width : 230px; height : 80px;"
													value="#{courrierConsultationJourBean.commentaireReceptionPhysique}">
													<a4j:support event="onchanged" 
														reRender="desc"/>
									</h:inputTextarea>
								
							</h:panelGrid>
							</td>
							</tr></table>
							<rich:spacer height="10px"/>
							<div align="center">
							
								<a4j:commandButton value="#{msg.buttonValidate}"
									action="#{courrierConsultationJourBean.valider}"									
									type="submit" ajaxSingle="true" styleClass="submitButton"
									 oncomplete="if(#{courrierConsultationJourBean.status1}==true)
									 #{rich:component('msgValidee')}.show();
									  if(#{courrierConsultationJourBean.erreur}==true)
									   #{rich:component('erreurrecept')}.show();
									  "   reRender="msgValidee">
									
									 </a4j:commandButton> 
								<rich:spacer width="5" />
								<a4j:commandButton value="#{msg.buttonCancel}"
									styleClass="submitButton"
									onclick="Richfaces.hideModalPanel('confirmationClassement');" />
							</div>
					</h:form>
					</rich:modalPanel>
					
					
					<rich:modalPanel id="confirmationClassementRecent" autosized="true"
						height="120" width="500" styleClass="rich-panel">
						<f:facet name="header">
							
								<h:outputText value="#{msg.receptionPhysique}"
									styleClass="xtePopupInformationTextHeader" />
							
						</f:facet>						 
							<rich:messages ajaxRendered="true" errorClass="msgError" 
								styleClass="error" />
							<rich:spacer height="5" />
							<h:form>
								<table width="100%">

									<tr>

										<td width="100%" valign="top">
							<h:panelGrid columns="1" id="dR" >
							
								<h:column>
									<h:outputText value="#{msg.dateReceptionLabel} :"
										styleClass="xteDetailLabelPopup"
										 />
										 <h:outputText value="*" styleClass="error" />
										 <rich:spacer width="15px"/>
									<rich:calendar id="dateRecp" style=" width : 230px;"
													value="#{courrierConsultationRecentBean.dateReceptionPhysique}"
													datePattern="dd/MM/yyyy" required="true"
													requiredMessage="* #{msg.CourrierDateRecep} #{msg.champsobligatoire}"
													locale="#{calendarBean.locale}"
													monthLabels="#{calendarBean.listMois}">
													<a4j:support  event="onchanged" reRender="dateRecp" process="dateRecp" 
														ajaxSingle="true" />
									</rich:calendar>
								</h:column>
								</h:panelGrid>
								</td>
								</tr>
								<tr>
								<td  valign="top">
								<h:panelGrid columns="2" styleClass="xtePanelGrid" >
								<h:column>
									<h:outputText 
										value="#{msg.commentaireReceptionLabel}   :" styleClass="xteDetailLabelPopup" />
											</h:column>
									<h:inputTextarea id="desc"  styleClass="textarea"  style=" width : 230px; height : 80px;"
													value="#{courrierConsultationRecentBean.commentaireReceptionPhysique}">
													
									</h:inputTextarea>
							
							</h:panelGrid>
							</td>
							</tr></table>
							<rich:spacer height="10px"/>
							<div align="center">
							
								<a4j:commandButton value="#{msg.buttonValidate}"
									action="#{courrierConsultationRecentBean.valider}"									
									type="submit" ajaxSingle="true" styleClass="submitButton"
									 oncomplete="if(#{courrierConsultationRecentBean.status1}==true)
									 #{rich:component('msgValidee')}.show(); 
									 if(#{courrierConsultationRecentBean.erreur}==true) 
									 #{rich:component('erreurrecept')}.show();
									 "   reRender="msgValidee">
									
									 </a4j:commandButton> 
								<rich:spacer width="5" />
								<a4j:commandButton value="#{msg.buttonCancel}"
									styleClass="submitButton"
									onclick="Richfaces.hideModalPanel('confirmationClassementRecent');" />
							</div>
					</h:form>
					</rich:modalPanel>
						<rich:modalPanel id="erreurrecept" autosized="true" height="100"
						width="400">
						<f:facet name="header">
							<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
								<rich:spacer width="2" />

								<h:outputText value="#{msg.labelInfo}"
									styleClass="xtePopupInformationTextHeader" />
							</h:panelGrid>
						</f:facet>
						<f:facet name="controls">
							<h:panelGroup>
								<h:graphicImage value="../framGraphique/images/close.png"
									width="15" height="15" id="hidelink154" />
								<rich:componentControl for="erreurrecept" attachTo="hidelink154"
									operation="hide" event="onclick" />
							</h:panelGroup>
						</f:facet>
						<h:form>
							<table align="center">
								<tr>
									<td align="left"><h:graphicImage
											value="../framGraphique/images/interrogation.png"
											alt="confirm" />
									</td>
									<td align="center" colspan="2"><h:outputText
											styleClass="popupInformationText"
											value="#{msg.erreurRecep}" />
									</td>
								</tr>
							</table>
							<table align="center">
								<tr>
									<td align="center"><a4j:commandButton
											value="#{msg.bouttonOk}"
											onclick="Richfaces.hideModalPanel('erreurrecept');"
											type="submit" ajaxSingle="true" styleClass="submitButton" />
									</td>
								</tr>
							</table>
						</h:form>
					</rich:modalPanel>
					<rich:modalPanel id="msgValidee" autosized="true" height="110"
									width="395">

									<f:facet name="header">
										<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
											<h:outputText value="#{msg.labelInfo}"
												styleClass="xtePopupInformationTextHeader" />
										</h:panelGrid>
									</f:facet>
									<f:facet name="controls">
										<h:panelGroup>
											<h:graphicImage value="../framGraphique/images/close.png"
												width="15" height="15" id="hidelinkvd" />
											<rich:componentControl for="msgValidee" attachTo="hidelinkvd"
												operation="hide" event="onclick" />
										</h:panelGroup>
									</f:facet>
									<table align="center">
										<tr>
											<td align="center"><h:graphicImage
													value="../framGraphique/images/interrogation.png"
													alt="confirm" /></td>
											<td align="center"><h:outputText
													styleClass="popupInformationText"
													value="#{msg.courrierEffectueAvecSucce}"/></td>
										 
										</tr>
									</table>
									<table align="center">
                                                 
										        <tr>
											     <td align="center"><a4j:commandButton value="#{msg.bouttonOk}"
													onclick="document.location.href='accueil.jsf'"
													type="submit" ajaxSingle="true" styleClass="submitButton"
													reRender="data,scroller,records,panelListDoc" />
											</td>
										</tr>
									</table>
								</rich:modalPanel>
					
					
						
					
					
					<rich:modalPanel id="updateModeTrRecent" autosized="true"
						height="120" width="450" styleClass="rich-panel">
						<f:facet name="header">
							<h:panelGrid columns="3" styleClass="xtePanelGrid"
								cellpadding="0" cellspacing="0">
								<h:outputText value="#{msg.modifModeDeTransmission}"
									styleClass="xtePopupInformationTextHeader" />
							</h:panelGrid>
						</f:facet>						 
							<rich:messages ajaxRendered="true" errorClass="msgError"
								styleClass="error" />
							<rich:spacer height="5" />
							<h:form>								
							<h:panelGrid columns="2" styleClass="xtePanelGrid" id="dR1" >							
								<h:column>								
										<h:outputText value="#{msg.CourrierMode}"
														styleClass="xteDetailLabel" />
													<rich:spacer width="5px" />
										<h:outputText value="*" styleClass="error" />
								</h:column>
								
										<h:selectOneMenu
													value="#{courrierConsultationRecentBean.selectedItemsTr}" 
													label="Choisir le mode" style=" width : 133px;"
													required="true"
													requiredMessage="* #{msg.ColonneMode} #{msg.champsobligatoire}">
													<f:selectItems
														value="#{courrierConsultationRecentBean.selectItemsTr2}" />
													<a4j:support event="onchange"														
														ajaxSingle="true"
														 />
										</h:selectOneMenu>
							
							</h:panelGrid>
							<rich:spacer width="5" height="10"/>
							<div align="center">							
								<a4j:commandButton value="#{msg.buttonValidate}"
									action="#{courrierConsultationRecentBean.updateModeTrRecent}"									
									type="submit" ajaxSingle="true" styleClass="submitButton"
									  oncomplete="if(#{courrierConsultationRecentBean.status1}==true) 
									  #{rich:component('msgPanal')}.show(); 
									  if(#{courrierConsultationRecentBean.status2}==true)
									#{rich:component('msgPanalErreurModifTr')}.show();" 
									  reRender="msgPanal" onclick="Richfaces.hideModalPanel('updateModeTrRecent');">									
									 </a4j:commandButton>
									 <rich:spacer width="2" /> 
								<a4j:commandButton value="#{msg.buttonCancel}"
									styleClass="submitButton"
									onclick="Richfaces.hideModalPanel('updateModeTrRecent');" />
							</div>
					</h:form>
					</rich:modalPanel>
						<rich:modalPanel id="msgPanalErreurModifTr" autosized="true" height="100"
							width="400">
							<f:facet name="header">
								<h:panelGrid columns="3" cellpadding="0" cellspacing="0">
									<rich:spacer width="2" />
									<h:outputText value="#{msg.labelError}"
										styleClass="popupInformationTextHeader" />
								</h:panelGrid>
							</f:facet>
							<f:facet name="controls">
								<h:panelGroup>
									<h:graphicImage value="../framGraphique/images/closePopup.png"
										width="15" height="15" id="hidelinkmodif" />
									<rich:componentControl for="msgPanal2" attachTo="hidelinkmodif"
										operation="hide" event="onclick" />
								</h:panelGroup>
							</f:facet>
							<h:form>
								<table align="center">
									<tr>
										<td align="left"><h:graphicImage
												value="../framGraphique/images/erreurrrrr.png" alt="confirm" />
										</td>
										<td align="center" colspan="2"><h:outputText
												styleClass="popupInformationText"
												value="#{msg.erreurModificationCourrier}" />
										</td>
										<!-- value="#{msg.MsgErreurDateRep}"  -->
									</tr>
								</table>
								<table align="center">
									<tr>
										<td align="center"><a4j:commandButton
												value="#{msg.bouttonOk}"
												oncomplete="Richfaces.hideModalPanel('msgPanalErreurModifTr');"
												type="submit" ajaxSingle="true" styleClass="submitButton" />
										</td>
									</tr>
								</table>
							</h:form>
						</rich:modalPanel>

					<!--					</h:form>-->
				</div>
				<div id="corpsDroite">
					<div class="monthenc">
						<script type="text/javascript">
							//         
							document.write(monthi8[w4s.getMonth()]); //
						</script>
					</div>
					<div class="datebx">
						<script type="text/javascript">
							//         
							document.write(s6ix[s3x]); //
						</script>
						<div class="dateenc">
							<script
									type="text/javascript">
								//         
								document.write(w4s.getDate()); //
							</script>
						</div>
					</div>
					<div class="dayenc">
						<script
								type="text/javascript">
							//         
							document.write(s0x[w4s.getDay()]); //
						</script>
					</div>
					<div class="yearenc">
						<script type="text/javascript">
							//         
							document.write(w4s.getFullYear()); //
						</script>
					</div>
				</div>
			</div>
			<div id="footer">
				<ui:include src="../framGraphique/footer.xhtml"></ui:include>
			</div>
		</div>
	</f:view>
</body>
	</html>
</ui:composition>